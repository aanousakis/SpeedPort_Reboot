<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>&#83;&#112;&#101;&#101;&#100;&#112;&#111;&#114;&#116;&#32;&#69;&#110;&#116;&#114;&#121;&#32;&#50;&#105;</title>
<style type="text/css">
body {
text-align: center;
background: #F2F2F2;
background: url("../img/bg_banner.png") repeat-x center top transparent;
}
body, input, textarea, select, label, td, th {
font-size: 12px;
color: #313131;
font-family: "Microsoft YaHei",Arial,SimSun,Verdana,Helvetica,Sans-Serif,Geneva;
}
body, form, h1, h3, h4, p, ul, ol {
margin: 0;
}
ul, ol {
padding-left: 0;
list-style-type: none;
}
a img {border: 0;}
table {
border-collapse: collapse;
border-spacing: 0;
}
#page_container {
position: relative;
width: 960px;
margin: 0 auto;
padding: 0 30px 15px 30px;
text-align: left;
}
#page_header {
padding-bottom: 20px;
}
#banner {
position: relative;
width: 100%;
height: 74px;
overflow: hidden;
padding-bottom: 5px;
}
#mainNavigator {
width: 100%;
height: 65px;
text-align: center;
margin: 0 auto;
overflow:hidden;
}
#page_content {
position: relative;
min-height: 510px;
height: auto !important;
height: 480px;
overflow: visible;
text-align: center;
}
#page_footer {
height: 43px;
line-height: 43px;
text-align: left;
background-color: #F4F4F4;
margin-top: -15px;
padding: 0 10px;
border-top: 0px solid #D7D7D7;
}
.logo {
width: 260px;
height: 100px;
float: left;
margin-top: -20px;
background: url(../img/Logo_ZTE.png) no-repeat 30px;
}
#banner_switchArea {
width: 500px;
height: 25px;
line-height: 25px;
position: absolute;
bottom: 2px;
right: 0px;
top:20px;
color:#ffffff;
}
.timeArea {
width: 300px;
height: 25px;
line-height: 25px;
position: absolute;
bottom: 2px;
left: 220px;
}
#banner_switchArea div {
float: right;
text-align: center;
margin: 0 8px;
}
#banner_switchArea div.logUser{
padding: 0px;
text-align: right;
overflow: hidden;
text-overflow: ellipsis;
white-space: nowrap;
max-width: 180px;
}
.clickable {
cursor: pointer;
}
.currentlang {
font-weight:bold;
}
#mainNavigator ul,li {
margin:0;
padding:0;
list-style: none;
}
#mainNavigator {
position: relative;
}
#mainNavigator ul {
position: relative;
left: 50%;
float: left;
}
#mainNavigator li {
float: left;
position: relative;
left: -380px;
right: 380px;
line-height: 65px;
}
#homeLi {
}
#mainNavigator a {
display: block;
width: 100%;
height: 100%;
background: url(../img/nv_middle.png) repeat-x;
text-decoration: none;
}
#mainNavigator a.MenuItem {
color: #ffffff;
}
#mainNavigator a:link,
#mainNavigator a:visited {
color: #FFFFFF;
}
#mainNavigator a.SelectMenuItem,
#mainNavigator a.SelectMenuItem:hover,
#mainNavigator a.MenuItem:hover  {
color: #007ac9;
background: url(../img/nv_s.gif) repeat-x;
background-color: #fff;
}
#mn_first, #mn_last {
height: 100%;
width: 100px;
position: absolute;
}
#mn_li {
height: 100%;
}
#mn_first {
background: url(../img/nv_left.png) no-repeat;
top: 0px;
left: 0px;
}
#mn_last {
background: url(../img/nv_right.png) no-repeat;
top: 0px;
right: 0px;
width: 100px;
}
#slogan {
width: 200px;
float: right;
margin: 0px;
text-align: right;
}
.caption2,
h1 {
border-bottom: 1px dotted #313131;
font-size: 16px;
font-weight: normal;
padding-bottom: 8px;
margin-bottom: 10px;
}
input[type="text"],
input[type="password"],
input[type="file"],
textarea,
select {
-moz-box-sizing: border-box;
-webkit-box-sizing: border-box;
box-sizing: border-box;
height: 26px;
*height: 20px;
padding: 2px;
margin: 2px 0;
border: 1px solid;
border-color: #AAAAAA #CCCCCC #CCCCCC #AAAAAA;
border-radius: 3px;
box-shadow: 0 1px 2px #CCCCCC inset;
}
select {
*height: 26px;
}
textarea {
margin: 0;
width: 100%;
*width: 99%;
resize: none;
height: 180px;
overflow: auto;
}
input[type="text"]:focus,
input[type="password"]:focus,
input[type="file"]:focus,
textarea:focus {
border-color: #FF8040;
-webkit-box-shadow: 0 0 3px rgba(255, 128, 64, 0.7);
-moz-box-shadow: 0 0 3px rgba(255, 128, 64, 0.7);
box-shadow: 0 0 3px rgba(255, 128, 64, 0.7);
}
select:focus {
border-color: #FF8040;
}
input[type="checkbox"] {
margin-left: 0;
margin-top: 9px;
}
input[type="radio"] {
margin-left: 0;
}
.Button,
.button,
.longBtn ,
.disableBtn,
.disableLongBtn,
.BrowseBtn {
cursor: pointer;
height: 28px;
border: none;
padding: 0 15px;
min-width: 100px;
border-radius: 3px;
}
.Button,
.button,
.longBtn  {
background-color: #0099cc;
background-image: -moz-linear-gradient(top , #34c3f9, #0099cc);
background-image: -webkit-gradient(linear,0% 0%, 0% 100%, from(#34c3f9), to(#0099cc));
background-image: -webkit-linear-gradient(top, #34c3f9, #0099cc);
background-image: -o-linear-gradient(top, #34c3f9, #0099cc);
background-image: -ms-linear-gradient(top, #34c3f9, #0099cc);
background-image: linear-gradient(top, #34c3f9, #0099cc);
filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#34c3f9', endColorstr='#0099cc', GradientType=0);
color: #fff;
}
.Button:hover,
.button:hover,
.longBtn:hover,
.Button:focus,
.button:focus,
.longBtn:focus {
font-weight: bold;
font-style: oblique;
}
.disableBtn,
.disableLongBtn,
.BrowseBtn {
border: 1px solid #878889;
background-color: #ddd;
background-image: -moz-linear-gradient(top , #ebebeb 15%, #ddd 45%, #cdcdcd 85%);
background-image: -webkit-gradient(linear,0% 0%, 0% 100%, from(#ebebeb), to(#cdcdcd),color-stop(45%,#ddd));
background-image: -webkit-linear-gradient(top, #ebebeb 15%, #ddd 45%, #cdcdcd 85%);
background-image: -o-linear-gradient(top, #ebebeb 15%, #ddd 45%, #cdcdcd 85%);
background-image: -ms-linear-gradient(top, #ebebeb, #cdcdcd);
background-image: linear-gradient(top, #ebebeb, #cdcdcd);
filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ebebeb', endColorstr='#cdcdcd', GradientType=0);
}
.BrowseBtn
{
color: #000;
}
.disableBtn,
.disableLongBtn {
cursor: default;
color: #898989;
}
.disableBtn:hover,
.disableBtn:focus,
.disableLongBtn:hover,
.disableLongBtn:focus {
font-weight: normal;
font-style: normal;
}
.mac {
width: 23px;
}
.ip {
width: 32px;
}
.port {
width: 66px;
}
.w37 {
width: 37px;
}
.w40 {
width: 40px;
}
.w45 {
width: 45px;
}
.w50 {
width: 50px;
}
.w60 {
width: 60px;
}
.w70 {
width: 70px;
}
.w75 {
width: 75px;
}
.w80 {
width: 80px;
}
.w100, .inputShort {
width: 100px;
}
.w120 {
width: 120px;
}
.w130 {
width: 130px;
}
.w140 {
width: 140px;
}
.w150, .inputNorm , .selectNorm {
width: 150px;
}
.w160 {
width: 160px;
}
.w165 {
width: 165px;
}
.w170 {
width: 170px;
}
.w175 {
width: 175px;
}
.w180 {
width: 180px;
}
.w200 {
width: 200px;
}
.w210 {
width: 210px;
}
.w217 {
width: 217px;
}
.w220 {
width: 220px;
}
.w230 {
width: 230px;
}
.w250, .inputLong, .selectLong {
width: 250px;
}
.w280 {
width: 280px;
}
.w400 {
width: 400px;
}
.emColor {
color: #0099cc;
}
.bgColorRow {
background-color: #F2F2F2;
}
.green {
color:#385401;
font-weight: bold;
}
.red {
color:#6c0101;
font-weight: bold;
}
.emFont {
font-weight: bold;
}
.ctrlFont,
.link2More {
text-decoration: underline;
cursor: pointer;
}
.ctrlFont {
text-decoration: none;
}
.sdRightPos{
float:right;
margin-right:10px;
}
.disableFont {
cursor: default;
text-decoration: none;
color: #898989;
}
.readonlyInputBg {
background-color: #ECE9D8;
}
.alignLeft {
text-align: left;
}
.alignRight {
text-align: right;
}
.alignCenter {
text-align: center;
}
.caption1 {
font-size: 1.1em;
font-weight: bold;
}
.caption3 {
font-size: 1em;
font-weight: bold;
}
.statusRow {
width: 100%;
height: 24px;
}
.statusRow div {
float: left;
border: 1px solid #BDBDBD;
padding: 3px;
text-align: center;
overflow: hidden;
}
.redFont {
color: red;
}
.instCfgArea {
margin: 0;
padding: 0 0 50px 0;
}
.buttongroup,
.unfloatBtnGroup {
padding: 25px 25px 20px 25px;
height: 30px;
}
.buttongroup input {
float: right;
margin-left: 15px;
}
.unfloatBtnGroup input {
margin: 0;
}
.radioInput {
width: auto;
float: left;
}
.submitArea {
text-align: right;
padding: 20px 0;
}
.externErrorHint,
.succHint,
.errorHint,
.warnHint,
.infoHint,
.waitHint {
margin: 30px 0;
text-align: left;
padding: 10px 10px 10px 70px;
}
.externErrorHint,
.errorHint {
color: #6c0101;
background: #FFEBE4 url(../img/err_m.png) no-repeat 15px;
}
.succHint {
color: #385401;
background: #E7FFE4 url(../img/succ_m.png) no-repeat 15px;
}
.warnHint {
color: #443500;
background: #FFF9E4 url(../img/warn_m.png) no-repeat 15px;
}
.infoHint {
color: #012f4c;
background: #E4EFFF url(../img/info_m.png) no-repeat 15px;
}
.waitHint {
color: #012f4c;
background: #E7FFE4 url(../img/waiting_Small.gif) no-repeat 15px;
}
.staticInfoHint {
display: block;
background: url(../img/info_s.png) no-repeat 25px 6px;
margin-bottom: 10px;
text-align: left;
padding: 0 5px 0 45px;
}
.sceneTip {
padding: 0 0 10px 0;
margin: 0;
text-align: justify;
}
.staticWLANInfoHint {
margin-top: 10px;
}
.sceneWlanTip {
padding: 0 10px 0 0;
margin: 0;
}
.sceneWlanTip a{
color: #0099CC;
margin-left: 25px;
}
.sceneWlanTip p{
margin-left: 25px;
}
.sceneTipLink {
padding: 0;
}
.sceneTip a,
.sceneTipLink a,
.sceneTip_close a {
color: #0099CC;
text-decoration: underline;
cursor: pointer;
}
.sceneTip_close a {
text-decoration: none;
padding-right: 5px;
}
.help_content,
.sceneTip_container {
background-color: #EFF8FF;
padding: 5px 0;
}
.help_close,
.sceneTip_close {
text-align: right;
}
.inlineTip {
float: left;
padding-left: 60px;
line-height: 30px;
}
.black_overlay
{
position: fixed;
_position: absolute;
top: 0%;
left: 0%;
width: 100%;
height: 100%;
background-color: #A7A7A7;
z-index: 100;
-moz-opacity: 0.5;
-khtml-opacity: 0.5;
opacity: 0.5;
filter: alpha(opacity=50);
}
.white_content
{
display: none;
width: 365px;
min-height: 195px;
height: auto !important;
height: 195px;
background:  url(../img/waiting.gif) no-repeat center center;
z-index: 101;
overflow: auto;
position: fixed;
_position: absolute;
}
.white_content_Qos
{
display: none;
width: 775px;
height: auto !important;
background: #FFFFFF;
z-index: 101;
overflow: auto;
position: fixed;
left: 25%;
top: 80px;
}
.white_content_security
{
display: none;
width: 350px;
min-height: 195px;
height: auto !important;
height: 195px;
z-index: 99;
overflow: auto;
position: absolute;
_position: absolute;
bottom: 0px;
right:  10px;
}
.sercurityNotice {
border: 8px solid #7D7D7D;
text-align: left;
padding: 0 10px;
background: #FFFFFF;
}
.sercurityNoticeMsg {
min-height: 32px;
height: auto !important;
height: 32px;
padding: 25px 0;
background: url("../img/info_m.png") no-repeat 20px 50%;
}
.sercurityNoticeMsg li {
padding-left: 60px;
font-size: 12px;
line-height: 24px;
}
#confirmLayer {
border: 8px solid #7D7D7D;
text-align: left;
padding: 0 10px;
background: #FFFFFF;
}
#confirmMsg {
min-height: 32px;
height: auto !important;
height: 32px;
padding: 25px 0;
background: url("../img/info_m.png") no-repeat 20px 50%;
}
#confirmMsg p {
padding-left: 60px;
font-size: 1.2em;
line-height: 24px;
}
#waitingImgArea {
height: 50px;
padding-bottom: 25px;
background:  url(../img/waiting_w.gif) no-repeat top center;
}
#confirmBtnArea {
height: 28px;
border-top: 1px dotted #313131;
padding: 10px;
}
#confirmBtnArea input {
float: right;
margin-left: 20px;
}
#dynamicTip {
position: absolute;
display: none;
font-size: 11px;
}
#dynamicTip div {
float: left;
height: 34px;
padding-top: 5px;
}
#dTip_l {
width: 16px;
background: url(../img/dTip_l.gif) no-repeat left top;
}
#dTip_m {
padding: 2px 8px 0 5px;
background: url(../img/dTip_m.gif) repeat-x;
}
#dTip_r {
width: 6px;
background: url(../img/dTip_r.gif) no-repeat left top;
}
div.errorLabelWraper{
background: url(../img/fail_s.png) no-repeat 5px 6px;
display:inline-block;
padding-left: 23px;
line-height: 30px;
}
label.error{
color: #FF0000;
}
.expandArrow {
background: url(../img/expandArrow.png) no-repeat 0px 8px;
}
.collapseArrow {
background: url(../img/collapseArrow.png) no-repeat 0px 8px;
}
.apStatusRow {
cursor:pointer
}
.apConnectting {
background: url(../img/waiting_Small.gif) no-repeat 0px 8px;
}
.sideContactUs
{
position: fixed;
top: 120px;
left:70px;
cursor:pointer;
z-index: 1001;
}
.tableforColor th,td {
border:1px solid #D0D0D0;
}
.tableforColor {
border-collapse: collapse;
margin-left:20px;
text-align:center;
}
#Day {
width:70px;
height:40px;
}
#H24 {
width:40px;
height:40px;
}
#H0_4,
#H4_8,
#H8_12,
#H12_16,
#H16_20,
#H20_24 {
width:100px;
height:40px;
}
.tdColor {
background-color:#C8E7FC;
}
.divcolorlump {
background-color: #008000;
float: left;
height: 15px;
margin-right: 9px;
width: 15px;
cursor: pointer;
}
.greenforlump {
background-color: #008000;
}
.redforlump {
background-color: #FF0000;
}
.noteRed {
color: red;
font-weight: bold;
}
.SonInstName {
margin-left:25px;
}
#commLeft {
width: 197px;
margin: 0;
padding:0;
float: left;
background-color: #EEEFF5;
}
#commRight {
min-height:415px;
height:auto !important;
height: 415px;
margin-left: 215px;
margin-right: 0;
padding-left: 0px;
text-align: left;
}
#class2MenuItem {
width: 100%;
margin: 0px;
padding: 0px;
}
#class2MenuItem li {
display: block;
margin: -1px 0 0 0;
}
#class2MenuItem a {
display: block;
height: 30px;
line-height: 30px;
text-align: left;
text-decoration: none;
color: #007ac9;
padding: 0 20px;
background-color: #fbfbfb;
border: 1px solid #d0d0d0;
overflow: hidden;
text-overflow: ellipsis;
white-space: nowrap;
}
#class2MenuItem a:hover {
color: #000;
}
#class2MenuItem a.selectClass2Menu {
background-color: #eee;
background-image: -moz-linear-gradient(top , #f7f7f7, #e6e6e6);
background-image: -webkit-gradient(linear,0% 0%, 0% 100%, from(#f7f7f7), to(#e6e6e6));
background-image: -webkit-linear-gradient(top, #f7f7f7, #e6e6e6);
background-image: -o-linear-gradient(top, #f7f7f7, #e6e6e6);
background-image: -ms-linear-gradient(top, #f7f7f7, #e6e6e6);
background-image: linear-gradient(top, #f7f7f7, #e6e6e6);
filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#f7f7f7', endColorstr='#e6e6e6', GradientType=0);
color: #000;
}
#class3Menu {
height:30px;
margin-bottom: 30px;
border-bottom: 1px solid #0099CC;
}
#scrollLeftBtn,
#scrollRightBtn {
height: 30px;
width: 30px;
float: left;
}
.EnableScrollBtn {
cursor: pointer;
}
.scrollRightBtn {
background: url("../img/collapse_B.png") no-repeat scroll right center;
}
.scrollLeftBtn {
background: url("../img/leftArrow.png") no-repeat scroll left center;
}
.scrollRightBtnDisable {
background: url("../img/rightArrowDisable.png") no-repeat scroll right center;
cursor: default;
}
.scrollLeftBtnDisable {
background: url("../img/leftArrowDisable.png") no-repeat scroll left center;
cursor: default;
}
#scrollLeftBtn p,
#scrollRightBtn p {
height: 30px;
}
#class3MenuMainContent {
width:697px;
overflow:hidden;
float:left;
margin-top: -1px;
}
#class3MenuMainContent ul {
width: 5000px;
}
#class3MenuMainContent li {
float: left;
list-style: none outside none;
}
#class3MenuMainContent ul p {
text-decoration: none !important;
height: 30px;
line-height: 30px;
padding: 0 30px;
float: left;
cursor: pointer;
}
.AEleMenu3 {
color: #007ac9;
border: 1px solid #D0D0D0;
border-bottom: 1px solid #0099CC;
background-color: #F5F5F5;
}
.AEleMenu3:hover {
color: #000;
}
.AEleMenu3Selected {
color: #000;
border: 1px solid #0099CC;
border-bottom: 1px solid #FFFFFF;
}
.HeadDIV,
.fakeHeadDIV  {
padding-top: 20px;
}
.pageIntroduce {
font-size: 18px;
}
.pIntroContent {
padding: 8px 0;
}
.row,
.colorTblRow,
.segmentRow {
clear: both;
}
.row,
.colorTblRow,
.outRow,
.rowWithoutClear {
min-height: 30px;
height: auto !important;
height: 30px;
padding: 0 5px 0 25px;
}
.outRow  {
padding: 0;
margin: 10px 0;
}
.selectRow {
min-height: 80px;
}
.segmentRow {
height: 15px;
background-color: #F7F7F7;
}
.left,
.right,
label.cfgLabel {
float: left;
line-height: 30px;
}
.collapBarWithDataTrans,
.collapsibleBar {
padding-left: 25px;
cursor: pointer;
background: url(../img/collapse_B.png) no-repeat 0px 30%;
}
.collapsibleBarExp {
background: url(../img/expand_B.png) no-repeat 0px 30%;
}
.colorTbl {
border: 1px solid #D0D0D0;
line-height: 30px;
margin-top: 10px;
overflow: auto;
}
.statuscolorTbl {
border: 1px solid #D0D0D0;
line-height: 30px;
margin-top: 10px;
overflow: auto;
border-radius: 6px;
margin-left: 15px;
margin-right: 15px;
}
.colorRow {
background: #EFF8FF;
}
.colorTblRow,
.textareaRow {
padding: 0 25px;
}
.colorTblRow span {
display:inline-block;
*display:inline;
*zoom:1;
overflow: hidden;
text-overflow: ellipsis;
white-space: nowrap;
margin-right: 5px;
vertical-align: middle;
*vertical-align: top;
}
.titleRow {
background: #C8E6FE;
}
.noDataHint {
height: 30px;
line-height: 30px;
border: 1px solid #D0D0D0;
padding: 0 5px 0 45px;
background: #C8E6FE url(../img/info_s.png) no-repeat 23px 50%;
}
.formTblWrap {
border: 1px solid #D0D0D0;
line-height: 30px;
background: #F7F7F7;
margin: -1px 0;
zoom: 1;
}
.formTbl {
padding: 10px 0 0;
overflow: auto;
*overflow: hidden;
}
.formTblCtrlBar, .addInstBar {
height: 30px;
line-height: 30px;
border: 1px solid #D0D0D0;
background: #EEEEEE;
position: relative;
}
.formTblCtrlBar div {
display: inline;
}
.instName, .instNew {
padding-left: 25px;
outline: none;
color: #313131;
height: 100%;
cursor: pointer;
display: block;
width: 200px;
}
.instName {
background: url(../img/collapse.png) no-repeat 0 50%;
white-space: nowrap;
text-overflow: ellipsis;
overflow: hidden;
}
.instNew {
background: url(../img/newInst.png) no-repeat 2px 50%;
}
.instNameExp {
background: url(../img/expand.png) no-repeat 0 50%;
}
.noHand {
cursor: default;
}
.instSwitch {
position: absolute;
left: 300px;
top: 3px;
}
.instDelete,
.closePopLayer {
position: absolute;
right: 20px;
top: 7px;
cursor: pointer;
}
.closePopLayer {
top: 10px;
}
.clear {
clear: both;
overflow:hidden;
}
.ExceedWidthEllipsis {
white-space: nowrap;
text-overflow: ellipsis;
overflow: hidden;
}
.divQoSStatisticsCfg {
padding: 20px;
text-align: left;
}
.picQoSTrans {
background:  url(../img/uploading.gif) no-repeat;
}
.partDivision {
border-bottom: 1px dotted #313131;
padding-bottom: 8px;
margin: 10px 0 30px;
}
.emptyRow10 {
margin: 10px;
}
.emptyRow20 {
margin: 20px;
}
.fontSize {
font-size:15px;
}
.DMSPathDiv {
border: 1px solid #0099CC;
width: 710px;
*width: 690px;
overflow: auto;
margin: 10px auto;
padding: 5px;
}
.hr0 {
height:1px;
border:none;
border-top:1px solid #D0D0D0;
}
.sideShortCut {
position: fixed;
width:28px;
height:50px;
bottom:105px;
right:0px;
_position:absolute;
_right:auto;
cursor:pointer;
z-index: 1000;
}
.BackToTop {
display: block;
height: 50px;
width: 28px;
text-decoration:none;
background: url(../img/TOP.gif) no-repeat;
}
.pinspan {
color: #313131;
background: #E7FFE4;
}
.pin_remain {
color: red;
font-size: 1.1em;
font-weight: bold;
}
._LuQUID_SelAccessDevice{
color: #0099CC;
cursor: pointer;
text-decoration: none;
width: 210px;
}
._LuQUID_AccessDeviceList{
margin-left:150px;
height:auto !important;
min-height: 30px;
padding: 0 5px 0 0;
clear: both;
}
._LuQUID_HideAccessDevice{
color: #0099CC;
cursor: pointer;
text-decoration: none;
}
.AddIconControl{
cursor: pointer;
position: relative;
top: 2px;
}
.DelIconControl{
cursor: pointer;
position: relative;
top: 2px;
}
.telephonenumbers {
width : 550px;
}
.telephoneports {
height: auto !important;
min-height: 30px;
padding: 0 5px 0 0;
}
.telephonebutton {
clear: both;
}
.telephone {
white-space: nowrap;
text-overflow: ellipsis;
overflow: hidden;
margin-right: 20px;
display: inline-block;
width: 180px;
height: 20px;
}
.weakLevelPass {
background: rgba(0, 0, 0, 0) url("../img/warn_s.png") no-repeat scroll 5px 6px;
border-radius: 3px;
color: #F78115;
padding-left: 25px;
text-align: left;
width: 60px;
}
body {
text-align: center;
background: repeat-x center top transparent;
}
body, input, textarea, select, label, td, th {
font-family: "Arial",Microsoft YaHei,SimSun,Verdana,Helvetica,Sans-Serif,Geneva;
}
#mainNavigator a.SelectMenuItem,
#mainNavigator a.SelectMenuItem:hover,
#mainNavigator a.MenuItem:hover  {
color: #3b61a6;
}
.logo {
width: 290px;
height: 100px;
float: left;
margin-top: -10px;
background: url(../img/Logo_ZTE.png) no-repeat 30px;
}
#class2MenuItem a.selectClass2Menu {
color: #3b61a6;
}
.AEleMenu3:hover {
color: #3b61a6;
}
.AEleMenu3Selected {
color: #3b61a6;
}
#class2MenuItem a {
color: #3b61a6;
}
#class2MenuItem a:hover {
color: #3b61a6;
}
#mainNavigator a:link,
#mainNavigator a:visited {
color: #3b61a6;
}
.Button,
.button,
.longBtn  {
background-color: #509e2f;
background-image: -moz-linear-gradient(top , #509e2f, #509e2f);
background-image: -webkit-gradient(linear,0% 0%, 0% 100%, from(#509e2f), to(#509e2f));
background-image: -webkit-linear-gradient(top, #509e2f, #509e2f);
background-image: -o-linear-gradient(top, #509e2f, #509e2f);
background-image: -ms-linear-gradient(top, #509e2f, #509e2f);
background-image: linear-gradient(top, #509e2f, #509e2f);
filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#509e2f', endColorstr='#509e2f', GradientType=0);
color: #fff;
}
#mn_first {
background: no-repeat scroll 0 0 rgba(0, 0, 0, 0);
left: 0;
top: 0;
border-radius:5px 0 0 5px;
}
#mn_last {
background: no-repeat;
top: 0px;
right: 0px;
width: 100px;
border-radius:0 5px 5px 0;
}
#mainNavigator li {
left: -360px;
}
#mainNavigator a.SelectMenuItem,
#mainNavigator a.SelectMenuItem:hover,
#mainNavigator a.MenuItem:hover  {
color: #fff;
background-color: #509e2f;
background-image: -moz-linear-gradient(top , #509e2f, #509e2f);
background-image: -webkit-gradient(linear,0% 0%, 0% 100%, from(#509e2f), to(#509e2f));
background-image: -webkit-linear-gradient(top, #509e2f, #509e2f);
background-image: -o-linear-gradient(top, #509e2f, #509e2f);
background-image: -ms-linear-gradient(top, #509e2f, #509e2f);
background-image: linear-gradient(top, #509e2f, #509e2f);
filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#509e2f', endColorstr='#509e2f', GradientType=0);
}
#mainNavigator a {
display: block;
width: 100%;
height: 100%;
text-decoration: none;
background-color: #374148;
background-image: -moz-linear-gradient(top , #374148, #374148);
background-image: -webkit-gradient(linear,0% 0%, 0% 100%, from(#374148), to(#374148));
background-image: -webkit-linear-gradient(top, #374148, #374148);
background-image: -o-linear-gradient(top, #374148, #374148);
background-image: -ms-linear-gradient(top, #374148, #374148);
background-image: linear-gradient(top, #374148, #374148);
filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#374148', endColorstr='#374148', GradientType=0);
}
#mn_first, #mn_last {
height: 100%;
width: 120px;
position: absolute;
color: #FFFFFF;
background-color: #374148;
background-image: -moz-linear-gradient(top , #374148, #374148);
background-image: -webkit-gradient(linear,0% 0%, 0% 100%, from(#374148), to(#374148));
background-image: -webkit-linear-gradient(top, #374148, #374148);
background-image: -o-linear-gradient(top, #374148, #374148);
background-image: -ms-linear-gradient(top, #374148, #374148);
background-image: linear-gradient(top, #374148, #374148);
filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#374148', endColorstr='#374148', GradientType=0);
}
.bannerswtch {
color: #3b61a6;
}
#banner_switchArea {
top: 40px;
}
.sceneTip a, .sceneTipLink a, .sceneTip_close a {
color: #3b61a6;
}
.emColor {
color: #3b61a6;
}
#mainNavigator a:link,
#mainNavigator a:visited {
color: #fff;
}
.AEleMenu3 {
color: #3b61a6;
}
#banner_switchArea {
color:#3b61a6;
}

</style>
<script type="text/javascript" src="jquery/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="jquery/jquery.validate.min.js"></script>
<script type="text/javascript" src="jquery/jquery.json-2.3.min.js"></script>
<script type="text/javascript">
function StatusOfLRBtnOf3MenuHandle(nowScrollLocation)
{
if (nowScrollLocation == "")
{
nowScrollLocation = 0;
}
var class3MenuContainerWidth = $("#class3MenuMainContent").width();
var totalTabWidth = $("#_totalTabWidth").val();
if ( nowScrollLocation >= (totalTabWidth - class3MenuContainerWidth) )
{
$("#scrollRightBtn").attr("class","scrollRightBtnDisable");
$("#scrollLeftBtn").attr("class", "scrollLeftBtn EnableScrollBtn");
}
else if ( nowScrollLocation == 0 )
{
$("#scrollLeftBtn").attr("class", "scrollLeftBtnDisable");
$("#scrollRightBtn").attr("class","scrollRightBtn EnableScrollBtn");
}
else
{
$("#scrollRightBtn").attr("class","scrollRightBtn EnableScrollBtn");
$("#scrollLeftBtn").attr("class", "scrollLeftBtn EnableScrollBtn");
}
}
function Menu3TabStyleHandle()
{
var class3MenuContainer = $("#class3MenuMainContent");
var ContainerWidth = $("#commRight").width()- $("#scrollLeftBtn").width()
- $("#scrollRightBtn").width();
class3MenuContainer.width(ContainerWidth);
var tabTotalWidth = 0;
var tab = $("li",class3MenuContainer);
for (var i=0; i< tab.length; i++)
{
var LiWidth = parseInt(tab[i].offsetWidth);
tabTotalWidth = tabTotalWidth + LiWidth;
}
$("#_totalTabWidth").val(tabTotalWidth);
var class3MenuUl = $("ul",class3MenuContainer);
if ( tabTotalWidth > ContainerWidth )
{
class3MenuUl.css("width", 5000);
$("#scrollLeftBtn,#scrollRightBtn").addClass("EnableScrollBtn");
var nowScrollLocation = $("#_Menu3Location").text();
if ((tabTotalWidth-ContainerWidth) < nowScrollLocation)
{
nowScrollLocation = tabTotalWidth-ContainerWidth;
}
class3MenuContainer.scrollLeft(nowScrollLocation);
StatusOfLRBtnOf3MenuHandle(nowScrollLocation);
}
else
{
$("#scrollLeftBtn").removeClass("scrollLeftBtn");
$("#scrollRightBtn").removeClass("scrollRightBtn");
}
}
function Class3MenuShow(selectPage, selectSupId, selectMidId, selectThdId)
{
if ( selectThdId == "" )
{
$("#class3Menu").css("display", "none");
return;
}
var class3MenuContent = "";
for ( var class3MenuID in menu_subitems[selectSupId][selectMidId] )
{
if ( class3MenuID == selectThdId )
{
AEleMenu3Class = "AEleMenu3Selected";
}
else
{
AEleMenu3Class = "AEleMenu3";
}
class3MenuContent = class3MenuContent
+ "<li><p class='" + AEleMenu3Class + "'"
+ "MenuClass='3'"
+ "id='"+ class3MenuID + "'"
+ "MenuPage='"+ menu_subitems[selectSupId][selectMidId][class3MenuID]['page']+"'"
+ "href='#" + class3MenuID + "'>"
+ menu_subitems[selectSupId][selectMidId][class3MenuID]['langName']
+ "</p></li>";
}
$("#class3MenuMainContent ul").html(class3MenuContent);
$("#class3MenuMainContent ul li p").click(function(){
var MenuOBJ = $(this);
if ( !checkDisClickAttr(MenuOBJ) )
{
return;
}
AjaxQuery_ClassMenuClick(MenuOBJ);
});
Menu3TabStyleHandle();
$(window).resize(function(){
Menu3TabStyleHandle();
});
var t;
$("#scrollRightBtn,#scrollLeftBtn").mousedown(function(e){
if ( ! $(this).hasClass("EnableScrollBtn"))
{
consoleLog("no scroll button!!");
return;
}
var step = 10;
if ( $(this).attr("id") == "scrollLeftBtn" )
{
step = 0-step;
}
if(1 == e.which)
{
t = window.setInterval(function() {
var scrollTarget = $("#class3MenuMainContent");
var nowPosition = scrollTarget.scrollLeft();
var tabWidth = $("#_totalTabWidth").val();
var srcollTotalLen = tabWidth - scrollTarget.width();
if ( (srcollTotalLen - nowPosition) >= step )
{
scrollTarget.scrollLeft(nowPosition + step);
}
else if ( (srcollTotalLen - nowPosition) >= 0 )
{
scrollTarget.scrollLeft(srcollTotalLen);
}
var afterPosition = scrollTarget.scrollLeft();
StatusOfLRBtnOf3MenuHandle(afterPosition);
}, 20);
}
});
$("#scrollRightBtn,#scrollLeftBtn").mouseup(function(e){
if(1 == e.which)
{
window.clearInterval(t);
}
});
}
function Class2MenuShow(selectPage, selectSupId, selectMidId)
{
if ( selectMidId == "" )
{
return;
}
var class2MenuContent = "";
var class2MenuClass = "";
for ( var class2MenuID in menu_items[selectSupId] )
{
if ( class2MenuID == selectMidId )
{
class2MenuClass = "selectClass2Menu";
}
else
{
class2MenuClass = "";
}
class2MenuContent = class2MenuContent
+ "<li>"
+ "<a class='" + class2MenuClass + "' "
+ "href='javascript:void(0);' "
+ "MenuClass='2' "
+ "id='"+ class2MenuID + "' "
+ "MenuPage='"+ menu_items[selectSupId][class2MenuID]['page']
+ "' title='" + menu_items[selectSupId][class2MenuID]['langName']
+ "'>"
+ menu_items[selectSupId][class2MenuID]['langName']
+ "</a></li>";
}
$("#class2MenuItem").html(class2MenuContent);
$("#class2MenuItem li a").click(function(){
var MenuOBJ = $(this);
if ( !checkDisClickAttr(MenuOBJ) )
{
return;
}
AjaxQuery_ClassMenuClick(MenuOBJ);
});
}
function Class1MenuShow(selectPage, selectSupId)
{
var FirstMenuContent = "<ul>";
var SupClass = "";
var SupLiID = "";
var FirstOne = "yes";
var navBarWidth = $("#mainNavigator").width();
var leftPadWidth = $("#mn_first").width();
var rightPadWidth = $("#mn_last").width();
var menuAreaWidth = navBarWidth - leftPadWidth - rightPadWidth;
meta_menu.length = 0;
for (var supId in meta_menu)
{
meta_menu.length++;
}
var menuWidth = menuAreaWidth/(meta_menu.length);
menuWidth = Math.floor(menuWidth);
for (var supId in meta_menu)
{
if ( supId == selectSupId )
{
SupClass = "SelectMenuItem";
}
else
{
SupClass = "MenuItem";
}
if ( FirstOne == "yes" )
{
SupLiID = "homeLi";
FirstOne = "no";
}
else
{
SupLiID = "";
}
var Menuname = meta_menu[supId]['langName'];
FirstMenuContent = FirstMenuContent
+ "<li id=\"" + SupLiID + "\">"
+ "<a href=\"javascript:void(0);\" class=\"" + SupClass
+ "\" "
+ "style='width:" + menuWidth + "px' "
+ "MenuClass='1' "
+ "id='"+ supId + "' "
+ "MenuPage='"+ meta_menu[supId]['page']+"'"
+ ">"
+ Menuname
+ "</a></li>";
}
FirstMenuContent = FirstMenuContent + "</ul>";
$("#mn_li").html(FirstMenuContent);
$("#mn_li li a").click(function(){
var MenuOBJ = $(this);
if ( !checkDisClickAttr(MenuOBJ) )
{
return;
}
AjaxQuery_ClassMenuClick(MenuOBJ);
});
}
function checkDisClickAttr(obj)
{
if ("off" == obj.attr("EnableClick"))
{
return false;
}
handleDisClickAttr("off");
return true;
}
function handleDisClickAttr(ret)
{
var objs = [$("#" + $("#_NowSupIdInfo").text()),
$("#" + $("#_NowMidIdInfo").text()),
$("#" + $("#_NowThdIdInfo").text())];
for (var i = 0; i < objs.length; i++)
{
if (objs[i].length > 0)
{
objs[i].attr("EnableClick", ret);
}
}
}
function AjaxPageGet(PageName, MenuClass)
{
var pageContainer = $("#commPageContainer");
pageContainer.succfunction = function(html){
pageContainer.html(html);
var _MenuInfo = $("#_MenuInfo");
var selectPage = $("#_NextPageInfo",_MenuInfo).text();
var selectSupId = $("#_NowSupIdInfo",_MenuInfo).text();
var selectMidId = $("#_NowMidIdInfo",_MenuInfo).text();
var selectThdId = $("#_NowThdIdInfo",_MenuInfo).text();
if ( "wizardFrame_t.lp" == selectPage )
{
$(document).scrollTop(0);
return;
}
if (MenuClass == '1')
{
Class1MenuShow(selectPage, selectSupId);
}
Class2MenuShow(selectPage, selectSupId, selectMidId);
Class3MenuShow(selectPage, selectSupId, selectMidId, selectThdId);
$(document).scrollTop(0);
handleDisClickAttr("on");
};
pageContainer.errorfunction = function(){
consoleLog("page get fail");
showWaitTip(false);
pageContainer.html("Page request failed, please try again!");
handleDisClickAttr("on");
};
showWaitTip(true);
pageContainer.dataTransfer( PageName, "GET", pageContainer.succfunction,
pageContainer.errorfunction, false,
undefined, 'html'
);
}
function AjaxQuery_ClassMenuClick(MenuOBJ)
{
var MenuClass = MenuOBJ.attr("MenuClass");
var page = MenuOBJ.attr("MenuPage");
var scrollTarget = $("#class3MenuMainContent");
var Menu3Location = scrollTarget.scrollLeft();
var pageFile = "getpage.lua?pid=123&nextpage="
+ page + "&Menu3Location=0";
if ( MenuClass == 3 )
{
pageFile = "getpage.lua?pid=123&nextpage="
+ page + "&Menu3Location=" + Menu3Location;
}
AjaxPageGet(pageFile, MenuClass);
}
</script>
<script type="text/javascript">
function openLink(pageurl)
{
var PageName = "getpage.lua?pid=123&nextpage=" + pageurl;
AjaxPageGet(PageName, 1);
}
function MenuShow(Menuclass, selectPage, selectSupId, selectMidId, selectThdId)
{
if (Menuclass == "ClassAll")
{
Class1MenuShow(selectPage, selectSupId);
Class2MenuShow(selectPage, selectSupId, selectMidId);
Class3MenuShow(selectPage, selectSupId, selectMidId, selectThdId);
}
else if (Menuclass == "ClassOne")
{
Class1MenuShow(selectPage, selectSupId);
}
else if (Menuclass == "ClassTwo")
{
Class2MenuShow(selectPage, selectSupId);
}
else
{
consoleLog("[menu_api.lp][MenuShow]    Menuclass("+ Menuclass + "filling is not right!!");
}
}
function FakeClass1MenuShow()
{
var FirstMenuContent = "<ul>";
var SupClass = "MenuItem";
var SupLiID = "";
var FirstOne = "yes";
var navBarWidth = $("#mainNavigator").width();
var leftPadWidth = $("#mn_first").width();
var rightPadWidth = $("#mn_last").width();
var menuAreaWidth = navBarWidth - leftPadWidth - rightPadWidth;
meta_menu.length = 0;
for (var supId in meta_menu)
{
meta_menu.length++;
}
var menuWidth = menuAreaWidth/(meta_menu.length);
menuWidth = Math.floor(menuWidth);
for (var supId in meta_menu)
{
if ( FirstOne == "yes" )
{
SupLiID = "homeLi";
FirstOne = "no";
}
else
{
SupLiID = "";
}
var Menuname = meta_menu[supId]['langName'];
FirstMenuContent = FirstMenuContent
+ "<li id=\"" + SupLiID + "\">"
+ "<a href=\"javascript:void(0);\" class=\"" + SupClass
+ "\" "
+ "style='width:" + menuWidth + "px;"
+ "cursor:default;'"
+ " hidefocus=\"true\" onclick=\" \">"
+ Menuname
+ "</a></li>";
}
FirstMenuContent = FirstMenuContent + "</ul>";
$("#mn_li").html(FirstMenuContent);
}
</script>

<script type="text/javascript">
function showWaitTip(show, TipMsg, StopTag)
{
var TipMsgTmp = TipMsg;
if( show )
{
$("#blackMask,#tipLayer,#confirmBtnArea").css("display", "block");
if (TipMsgTmp == undefined || TipMsgTmp == "")
{
$("#waitingImgArea").css("display", "none");
if(true==StopTag)
{
$("#confirmStop").css("display", "block");
$("#confirmCancel,#confirmOK").css("display", "none");
}
else
{
$("#confirmStop").css("display", "none");
$("#confirmCancel,#confirmOK").css("display", "block");
}
}
else
{
$("#confirmLayer, #waitingImgArea").css("display", "block");
$("#confirmMsg p").text(TipMsgTmp);
if(true==StopTag)
{
$("#confirmStop").css("display", "block");
$("#confirmCancel,#confirmOK").css("display", "none");
}
else
{
$("#confirmCancel,#confirmOK,#confirmStop").css("display", "none");
}
}
reposition_box("tipLayer");
}
else
{
$("#blackMask, #tipLayer, #confirmLayer").css("display", "none");
}
}
function IniConfirm(msg)
{
showWaitTip(true);
var confirmLayerOBJ = $("#confirmLayer");
confirmLayerOBJ.css("display", "block");
$("#confirmMsg p",confirmLayerOBJ).text(msg);
$("#confirmCancel",confirmLayerOBJ).unbind( "click" );
$("#confirmOK",confirmLayerOBJ).unbind( "click" );
$("#confirmStop",confirmLayerOBJ).unbind( "click" );
$("#confirmCancel",confirmLayerOBJ).bind("click", function(event){
showWaitTip(false);
});
$("#confirmCancel",confirmLayerOBJ).focus();
return confirmLayerOBJ;
}
function getStyle(obj,attr)
{
if (obj.currentStyle)
{
return obj.currentStyle[attr];
}
else
{
return document.defaultView.getComputedStyle(obj,null)[attr];
}
}
function reposition_box(divId)
{
var box=document.getElementById(divId);
if (null!=box)
{
var boxObj = $("#"+divId);
var winH = $(window).height();
var winW = $(window).width();
var divH = boxObj.height();
var divW = boxObj.width();
var h = (winH-divH)/2;
h = (h > 0) ? h : 5;
var w = (winW-divW)/2;
w = (w > 0) ? w : 5;
boxObj.css({top:h, left:w});
if ( divH > winH || divW > winW)
{
boxObj.css("position", "absolute");
}
else
{
boxObj.css("position", "fixed");
}
}
}
function _validator_setDefaults (tipObj, rowObj)
{
var rowWidth = rowObj.width();
var usedWidth = 0;
var rightObj = undefined;
rowObj.children().each(function(){
if (!($(this).hasClass("_LuQUID_AccessDeviceList")||
$(this).hasClass("clear"))){
usedWidth += $(this).outerWidth(true);
}
if ($(this).hasClass("right")){
rightObj = $(this);
}
});
var errWidth = rowWidth - usedWidth;
tipObj.width(errWidth-5-23);
if (rightObj != undefined)
{
tipObj.insertAfter(rightObj);
}
else
{
tipObj.appendTo(rowObj);
}
}
$.validator.setDefaults({
errorPlacement: function (error, element) {
var tipHTML = "<div class=\"errorLabelWraper\"></div>";
var tipObj = $(tipHTML);
error.appendTo(tipObj);
var rowObj = element.closest(".row");
if ( rowObj.length == 0 )
{
consoleLog("element id=["+element.attr("id")+"] is not in row div.");
return ;
}
_validator_setDefaults (tipObj, rowObj);
}
});
jQuery.extend(jQuery.validator.messages, {
required: "This field is required. ",
remote: "Please fix this field. ",
email: "Please enter a valid email address. ",
url: "Please enter a valid URL. ",
date: "Please enter a valid date. ",
dateISO: "Please enter a valid date (ISO). ",
number: "Please enter a valid number. ",
digits: "Please enter an integer. ",
creditcard: "Please enter a valid credit card number. ",
equalTo: "Please enter the same value again. ",
maxlength: jQuery.validator.format("Please enter no more than {0} characters. "),
minlength: jQuery.validator.format("Please enter at least {0} characters. "),
rangelength: jQuery.validator.format("Please enter a value with {0} ~ {1} characters. "),
range: jQuery.validator.format("Please enter a value between {0} and {1}. "),
max: jQuery.validator.format("Please enter a value less than or equal to {0}. "),
min: jQuery.validator.format("Please enter a value greater than or equal to {0}. ")
});
function AsciiPasswordCheck(Key)
{
for (var j = 0 ;j < Key.length; j++)
{
var ch = Key.charCodeAt(j);
if(ch == 9)
{
return false;
}
}
return true;
}
function AsciiCheck(Key)
{
for (var j = 0 ;j < Key.length; j++)
{
var ch = Key.charCodeAt(j);
if(ch<32 || ch>126)
{
return false;
}
}
return true;
}
function AsciiCheckWithLen(Key, LenLimit)
{
if (Key.length != LenLimit)
{
return false;
}
if ( false == AsciiCheck(Key) )
{
return false;
}
return true;
}
function HexCheck(Key)
{
for (var j = 0 ;j < Key.length; j++)
{
var ch = Key.charCodeAt(j);
if (!((ch >= 65 && ch <= 70)
||(ch >= 97 && ch <= 102)
||(ch >= 48 && ch <= 57)))
{
return false;
}
}
return true;
}
function HexCheckWithLen(Key, LenLimit)
{
if (Key.length != LenLimit)
{
return false;
}
if ( false == HexCheck(Key) )
{
return false;
}
return true;
}
function checkIPv4Addr(ipaddr)
{
var re = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;
if(re.test(ipaddr) == true)
{
var parts = ipaddr.split(".");
for(var i=0; i<parts.length; i++)
{
if(parts[i].indexOf("0") == 0 && parts[i].length > 1)
return false;
if (parseInt((parts[i]),10) > 255 || parseInt((parts[i]),10) < 0)
{
return false;
}
}
return true;
}
return false;
}
jQuery.validator.addMethod(
"IPv4Addr",
function(value, element, params) {
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if(checkIPv4Addr(value) == true)
{
return true;
}
return false;
},
"Please enter a valid IPv4 Address. "
);
jQuery.validator.addMethod(
"IPv6Addr",
function(value, element, params) {
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if (value.match("[^0-9a-fA-F:.]") != null)
return false;
addrParts = value.split(':');
Doublecolon = value.split('::');
ipv4Parts = value.split('.');
if(addrParts.length<3||addrParts.length>8)
{
return false;
}
else if(Doublecolon.length==1&&ipv4Parts.length==1&&addrParts.length!=8)
{
return false;
}
else if(Doublecolon.length==1&&ipv4Parts.length>1&&addrParts.length!=6)
{
return false;
}
else if(Doublecolon.length>1&&ipv4Parts.length>1&&addrParts.length>6)
{
return false;
}
else if(Doublecolon.length>2||value.split(':::').length>1)
{
return false;
}
else
{
if(addrParts[0]==""&&addrParts[1]!="")
{
return false;
}
for(var i=0;i<addrParts.length;i++)
{
if(i==addrParts.length-1&&addrParts[i]==""&&addrParts[i-1]!="")
{
return false;
}
if(addrParts[i].length>4 && addrParts[i].split('.').length<2)
{
return false;
}
}
}
var pos = value.lastIndexOf(":");
var ipv4Parts = value.split('.');
if(ipv4Parts.length>1)
{
var ipv4=value.substring(pos+1,value.length);
if( false == checkIPv4Addr(ipv4) )
{
return false;
}
}
return true;
},
"Please enter a valid IPv6 Address. "
);
jQuery.validator.addMethod(
"DomainName",
function(value, element, params) {
if ( this.optional(element) )
{
return "dependency-mismatch";
}
var len = value.length;
var firstChar = value.substr(0,1);
var lastChar = value.substr(len-1,1);
var maxlen = 64;
if(len>64||len<1)
{
return false;
}
if (value.match("[^0-9a-zA-Z.-]") != null)
{
return false;
}
if(firstChar.match("[^0-9a-zA-Z]") != null)
{
return false;
}
if(lastChar.match("[^0-9a-zA-Z]") != null)
{
return false;
}
var pos = value.lastIndexOf(".");
if(pos == -1)
{
var str = value;
var templen = value.length;
for(var i=0;i<len;i++)
{
var tempvalue = str.substring(i,i+1);
if(isNaN(parseInt(tempvalue)))
{
return true;
}
}
return false;
}
else
{
var str = value.substr(pos+1);
var tmplen = value.length - (pos + 1);
for(var i=0;i<tmplen;i++)
{
var tmpvalue = str.substring(i,i+1);
if(isNaN(parseInt(tmpvalue)))
{
return true;
}
}
return false;
}
},
"Please enter a valid Domain Name. "
);
jQuery.validator.addMethod(
"HostName",
function(value, element, params) {
if ( this.optional(element) )
{
return "dependency-mismatch";
}
var len = value.length;
var firstChar = value.substr(0,1);
var lastChar = value.substr(len-1,1);
if (value.match("[^0-9a-zA-Z.-]") != null)
{
return false;
}
if(firstChar.match("[^0-9a-zA-Z]") != null)
{
return false;
}
if(lastChar.match("[^0-9a-zA-Z]") != null)
{
return false;
}
var pos = value.lastIndexOf(".");
if(pos == -1)
{
var str = value;
var templen = value.length;
for(var i=0;i<len;i++)
{
var tempvalue = str.substring(i,i+1);
if(isNaN(parseInt(tempvalue)))
{
return true;
}
}
return false;
}
else
{
var str = value.substr(pos+1);
var tmplen = value.length - (pos + 1);
for(var i=0;i<tmplen;i++)
{
var tmpvalue = str.substring(i,i+1);
if(isNaN(parseInt(tmpvalue)))
{
return true;
}
}
return false;
}
},
"Please enter a valid Host Name. "
);
jQuery.validator.addMethod(
"url",
function(value, element, params) {
if ( this.optional(element) )
{
return "dependency-mismatch";
}
var len = value.length;
if( (len < 1) || (len > 256) )
{
return false;
}
if (value.match("[^0-9a-zA-Z.:;,!@%#?_/&=+*'$()\\[\\]-]") != null)
{
return false;
}
return true;
},
"Please enter a valid URL. "
);
jQuery.validator.addMethod(
"PasswordASCII",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if (value == "						")
{
return true;
}
if ( false == AsciiPasswordCheck(value) )
{
params = 0;
return false;
}
if ( false == AsciiCheck(value) )
{
params = 1;
return false;
}
return true;
},
function(param, element)
{
var error = ["The format of password is wrong. Please clear it and re-enter. ", "Please enter only ASCII characters. "];
var value = $(element).val();
var ret = 0;
if ( false == AsciiPasswordCheck(value) )
{
ret = 0;
}
else if( false == AsciiCheck(value) )
{
ret = 1;
}
else
{
}
if ( ret <= error.length )
{
return error[ret];
}
}
);
jQuery.validator.addMethod(
"PasswordRangeLength",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if (value == "						")
{
return true;
}
if ( value.length >= params[0] && value.length <= params[1] )
{
return true;
}
return false;
},
jQuery.validator.format("Please enter a value with {0} ~ {1} characters. ")
);
jQuery.validator.addMethod(
"ASCII",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if ( false == AsciiCheck(value) )
{
return false;
}
return true;
},
"Please enter only ASCII characters. "
);
function AsciiCheckContainSpace(Key)
{
for (var j = 0 ;j < Key.length; j++)
{
var ch = Key.charCodeAt(j);
if(ch<32 || ch>126)
{
return false;
}
}
return true;
}
jQuery.validator.addMethod(
"ASCII_CONTAINSPACE",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if ( false == AsciiCheckContainSpace(value) )
{
return false;
}
return true;
},
"Please enter only ASCII characters. "
);
jQuery.validator.addMethod(
"DigitASCII",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
var reg = /^[0-9]+$/;
return reg.test(value);
},
"Please enter a value composed of 0 ~ 9."
);
jQuery.validator.addMethod(
"utf8",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
return true;
},
"Please enter only ASCII characters. "
);
jQuery.validator.addMethod(
"WEPKey128Bit",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
var AsciiLenLimit = 13;
var HexLenLimit = 26;
if ( AsciiCheckWithLen(value, AsciiLenLimit) == false
&& HexCheckWithLen(value, HexLenLimit) == false )
{
return false;
}
return true;
},
"For WEP-128, only 26 HEX or 13 ASCII characters are allowed. "
);
jQuery.validator.addMethod(
"PasswordWEPKey128Bit",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if (value == "						")
{
return true;
}
var AsciiLenLimit = 13;
var HexLenLimit = 26;
if ( AsciiCheckWithLen(value, AsciiLenLimit) == false
&& HexCheckWithLen(value, HexLenLimit) == false )
{
return false;
}
return true;
},
"For WEP-128, only 26 HEX or 13 ASCII characters are allowed. "
);
jQuery.validator.addMethod(
"PasswordWEPAsciiOrHexLen",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if (value == "						")
{
return true;
}
var AsciiLenLimit = 5;
var HexLenLimit = 10;
var AsciiLenLimit13 = 13;
var HexLenLimit26 =26;
if (AsciiCheckWithLen(value, AsciiLenLimit) == false
&& HexCheckWithLen(value, HexLenLimit) == false
&& AsciiCheckWithLen(value, AsciiLenLimit13) == false
&& HexCheckWithLen(value, HexLenLimit26) == false)
{
return false;
}
return true;
},
"Please enter 5 or 13 ASCII characters, or enter 10 or 26 hexadecimal digits. "
);
jQuery.validator.addMethod(
"WEPAsciiOrHexLen",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
var AsciiLenLimit = 5;
var HexLenLimit = 10;
var AsciiLenLimit13 = 13;
var HexLenLimit26 =26;
if (AsciiCheckWithLen(value, AsciiLenLimit) == false
&& HexCheckWithLen(value, HexLenLimit) == false
&& AsciiCheckWithLen(value, AsciiLenLimit13) == false
&& HexCheckWithLen(value, HexLenLimit26) == false)
{
return false;
}
return true;
},
"Please enter 5 or 13 ASCII characters, or enter 10 or 26 hexadecimal digits. "
);
jQuery.validator.addMethod(
"PasswordWEPKey64Bit",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if (value == "						")
{
return true;
}
var AsciiLenLimit = 5;
var HexLenLimit = 10;
if ( AsciiCheckWithLen(value, AsciiLenLimit) == false
&& HexCheckWithLen(value, HexLenLimit) == false )
{
return false;
}
return true;
},
"For WEP-64, only 10 HEX or 5 ASCII characters are allowed. "
);
jQuery.validator.addMethod(
"WEPKey64Bit",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
var AsciiLenLimit = 5;
var HexLenLimit = 10;
if ( AsciiCheckWithLen(value, AsciiLenLimit) == false
&& HexCheckWithLen(value, HexLenLimit) == false )
{
return false;
}
return true;
},
"For WEP-64, only 10 HEX or 5 ASCII characters are allowed. "
);
jQuery.validator.addMethod(
"WPAAsciiOrHexLen",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if (!(value.length >= 8 && value.length <= 63)
&& HexCheckWithLen(value, 64) == false)
{
return false;
}
return true;
},
"Please enter a value with 8 ~ 63 characters, or enter 64 hexadecimal digits. "
);
jQuery.validator.addMethod(
"HEX",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if ( HexCheck(value) == false )
{
return false;
}
return true;
},
"Please enter only hexadecimal characters. "
);
jQuery.validator.addMethod(
"fixedlength",
function(value, element, param)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if (value.length != param)
{
return false;
}
return true;
},
jQuery.validator.format("Please enter {0} characters. ")
);
jQuery.validator.addMethod(
"fixedValue",
function(value, element, param)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if (value != param)
{
return false;
}
return true;
},
jQuery.validator.format("The only allowed value is {0}.")
);
function hexCompare(hexNum, hexRefer)
{
var num = parseInt(hexNum, 16);
var refer = parseInt(hexRefer, 16);
if (num < refer)
{
return -1;
}
else if (num > refer)
{
return 1;
}
else
{
return 0;
}
}
jQuery.validator.addMethod(
"hexRange",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if (typeof(params[0]) == "object")
{
for (var i=0; i<params.length; i++)
{
var range = params[i];
if (typeof(range) == "object")
{
if (hexCompare(value, range[0]) != -1 && hexCompare(value, range[1]) != 1 )
{
return true;
}
}
}
}
else
{
if (hexCompare(value, params[0]) != -1 && hexCompare(value, params[1]) != 1 )
{
return true;
}
}
return false;
},
function(params, element){
var rangesStr = "";
if (typeof(params[0]) == "object")
{
var rangesLen = params.length;
for (var i=0; i<rangesLen; i++)
{
var range = params[i];
if (hexCompare(range[0], range[1]) != 0)
{
rangesStr += range[0] + "~" + range[1];
}
else
{
rangesStr += range[0];
}
if ( i < rangesLen-1 )
{
rangesStr += ", ";
}
}
}
else
{
rangesStr = params[0] + "~" + params[1];
}
return $.validator.format("Please enter a hexadecimal value in the ranges of {0}. ", rangesStr);
}
);
jQuery.validator.addMethod(
"ranges",
function(value, element, param)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
var rangesLen = param.length;
for (var i=0; i<rangesLen; i++)
{
var range = param[i];
if ( typeof range === 'number' )
{
if ( value == range )
{
return true;
}
}
else
{
if ( value >= range[0] && value <= range[1] )
{
return true;
}
}
}
return false;
},
function(param, element){
var rangesStr = "";
var rangesLen = param.length;
for (var i=0; i<rangesLen; i++)
{
var range = param[i];
if ( typeof range === 'number' )
{
rangesStr += range;
}
else
{
rangesStr += range[0] + "~" + range[1];
}
if ( i < rangesLen-1 )
{
rangesStr += ",";
}
}
return $.validator.format("Please enter a value in the ranges of {0}. ", rangesStr);
}
);
jQuery.validator.addMethod(
"integer",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
return /^-?\d+$/.test(value);
},
"Please enter an integer. "
);
jQuery.validator.addMethod(
"even",
function(value, element, params)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
var mod = (parseInt(value))%2;
if ( mod != 0)
{
return false;
}
return true;
},
"Please input an even number."
);
jQuery.validator.addMethod(
"concurrence",
function(value, element, param)
{
if (1 > param.length)
{
return true;
}
var obj = get_element_obj($(element), param[0]);
if (obj.is(":hidden"))
{
return true;
}
if ("" == value && "" == obj.attr('value'))
{
return true;
}
if ("" != value && "" != obj.attr('value'))
{
return true;
}
return false;
},
"Please input valid prefix. "
);
function get_element_obj(obj, id)
{
var elementID = obj.attr("id");
var arr = elementID.split(':');
var strId = id;
if (arr.length > 1)
{
var exNum = arr[arr.length-1];
strId = id + ":" + exNum;
}
return $("[id^='"+strId+"']");
};
function test_greatThan(obj, value, param, type)
{
if ("errstring" == type )
{
var tempstring = {
"1" : param[2].separate ? "Please enter a value greater than \"{0}\". " : "Please enter a value greater than the former. " ,
"2" : param[2].separate ? "Please enter a value not less than \"{0}\". " : "Please enter a value not less than the former. " ,
"3" : param[2].separate ? "Please ensure the difference with the latter not greater than {1}. " : "Please ensure the difference with the former not greater than {1}. "
};
return $.validator.format(tempstring[param[2].ret], param[2].idtext, param[2].discrepantMode);
}
else
{
var tmpvalue = obj.attr('value');
var ret = true;
if (param[2].equal)
{
ret = Number(value) >= Number(tmpvalue);
if (!ret)
{
param[2].ret = "2";
return false;
}
}
else
{
ret = Number(value) > Number(tmpvalue);
if (!ret)
{
param[2].ret = "1";
return false;
}
}
if (param[2].discrepantMode)
{
ret = Number(value) - Number(tmpvalue) <= Number(param[2].discrepantMode);
if (!ret)
{
param[2].ret = "3";
return false;
}
}
obj.parent().next().children().hide();
return true;
}
};
function test_lessThan(obj, value, param, type)
{
if ("errstring" == type )
{
var tempstring = {
"1" : param[2].separate ? "Please enter a value less than \"{0}\". " : "Please enter a value less than the latter. " ,
"2" : param[2].separate ? "Please enter a value not greater than \"{0}\". " : "Please enter a value not greater than the latter. " ,
"3" : param[2].separate ? "Please ensure the difference with the former not greater than {1}. " : "Please ensure the difference with the latter not greater than {1}. "
};
return $.validator.format(tempstring[param[2].ret], param[2].idtext, param[2].discrepantMode);
}
else
{
var tmpvalue = obj.attr('value');
var ret = true;
if (param[2].equal)
{
ret = Number(value) <= Number(tmpvalue);
if (!ret)
{
param[2].ret = "2";
return false;
}
}
else
{
ret = Number(value) < Number(tmpvalue);
if (!ret)
{
param[2].ret = "1";
return false;
}
}
if (param[2].discrepantMode)
{
ret = Number(tmpvalue) - Number(value) <= Number(param[2].discrepantMode)
if (!ret)
{
param[2].ret = "3";
return false;
}
}
obj.parent().next().children().hide();
return true;
}
};
jQuery.validator.addMethod(
"extremumRange",
function(value, element, param)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
if (2 > param.length)
{
return true;
}
var obj = get_element_obj($(element), param[1]);
if (3 > param.length)
{
param[2] = {};
}
param[2]["idtext"] = obj.parent().prev().text();
if (obj.is(":hidden") || "" == obj.attr('value'))
{
return true;
}
var selectMode = {
"greatThan" : test_greatThan,
"lessThan" : test_lessThan
};
return selectMode[param[0]](obj, value, param);
},
function(param,element)
{
var selectMode = {
"greatThan" : test_greatThan,
"lessThan" : test_lessThan
};
return selectMode[param[0]]("", "", param, "errstring");
}
);
jQuery.validator.addMethod(
"banValue",
function(value, element, param)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
var paramLen = param.length;
for (var i = 0;i < paramLen;i++)
{
var range = param[i];
if (typeof range === 'string' )
{
if (value == range)
{
return false;
}
}
else
{
if (value >= range[0] && value <= range[1])
{
return false;
}
}
}
return true;
},
function(param, element){
var rangesStr = "";
var paramLen = param.length;
for (var i=0; i<paramLen; i++)
{
var paraVal = param[i];
if ( "object" === typeof paraVal )
{
rangesStr += paraVal[0] + "~" + paraVal[1];
}
else
{
rangesStr += paraVal;
}
if ( i < paramLen-1 )
{
rangesStr += ", ";
}
}
if (paramLen > 1)
{
return $.validator.format("Please ensure the input NOT in the ranges of \"{0}\". ", rangesStr);
}
else
{
return $.validator.format("Please ensure the input NOT equal to \"{0}\". ", rangesStr);
}
}
);
jQuery.validator.addClassRules({
ipSepCheck: {
"required": true,
"integer": true,
"range":[0,255]
},
macSepCheck:{
"required": true,
"HEX": true,
"fixedlength": 2
}
});
function compareIPv4(firstIP, secondIP)
{
var fIP;
var sIP;
fIP = firstIP.split(".");
sIP = secondIP.split(".");
for (var i = 0; i < 4; i++)
{
if (fIP[i] != "" && sIP[i] != "")
{
fIP[i] = parseInt(fIP[i],10);
sIP[i] = parseInt(sIP[i],10);
}
if (fIP[i] > sIP[i])
{
return 1;
}
else if (fIP[i] < sIP[i])
{
return -1;
}
}
return 0;
}
function checkWholeIPv4(k, v, ipValue)
{
var vLen = v.length;
var retMsg = "";
for (var j = 0; j < vLen; j++)
{
if (retMsg != "")
{
retMsg += ", ";
}
var range = v[j];
if (typeof range === 'string')
{
retMsg += range;
}
else
{
retMsg += range[0]+" ~ "+range[1];
}
}
if (k == "banValue")
{
retMsg = " is NOT allowed to input the following value(s): {0}. ".format(retMsg);
for (var i = 0; i < vLen; i++)
{
var range = v[i];
if (typeof range === 'string')
{
if (ipValue == range)
{
return [false, k, retMsg];
}
}
else
{
if ("-1" != compareIPv4(ipValue, range[0]) &&
"1" != compareIPv4(ipValue, range[1]))
{
return [false, k, retMsg];
}
}
}
}
else if (k == "allowRange")
{
retMsg = "'s input is invalid. Please ensure the input is in the following range: {0}. ".format(retMsg);
for (var i = 0; i < vLen; i++)
{
var range = v[i];
if ("-1" != compareIPv4(ipValue, range[0]) &&
"1" != compareIPv4(ipValue, range[1]))
{
return [true, "", ""];
}
}
return [false, k, retMsg];
}
else if (k == "notLessThan")
{
}
else if (k == "notMoreThan")
{
}
else
{
}
return [true, "", ""];
}
function checkWholeMac(k, v, macValue)
{
var vLen = v.length;
var retMsg = "";
for (var j = 0; j < vLen; j++)
{
if (retMsg != "")
{
retMsg += ", ";
}
var range = v[j];
if (typeof range === 'string')
{
retMsg += range;
}
else
{
retMsg += range[0]+" ~ "+range[1];
}
}
if (k == "banValue")
{
retMsg = " is NOT allowed to input the following value(s): {0}. ".format(retMsg);
for (var i = 0; i < vLen; i++)
{
var range = v[i];
if (typeof range === 'string')
{
if (macValue.toLowerCase() == range.toLowerCase())
{
return [false, k, retMsg];
}
}
}
}
else
{
}
return [true, "", ""];
}
function getMsgofWholeMACIPCheck(checkRetArray, ruleObj, checkValue, checkParaName)
{
var errMsg = "";
switch (checkRetArray[1])
{
case "banValue":
{
if (ruleObj.messages.banValue != undefined)
{
errMsg = ruleObj.messages.banValue;
}
else
{
if (checkParaName != "")
{
errMsg = checkParaName + checkRetArray[2];
}
else
{
errMsg = "Current operation is invalid, please check configuration parameters. "+"["+"Error Input: "+checkValue+"]";
}
}
break;
}
case "allowRange":
{
if (ruleObj.messages.allowRange != undefined)
{
errMsg = ruleObj.messages.allowRange;
}
else
{
if (checkParaName != "")
{
errMsg = checkParaName + checkRetArray[2];
}
else
{
errMsg = "Current operation is invalid, please check configuration parameters. "+"["+"Error Input: "+checkValue+"]";
}
}
break;
}
default:
{
errMsg = "error msg undefined!"
}
}
return errMsg;
}
jQuery.validator.addMethod(
"utf8LengthRange",
function(value, element, param)
{
if ( this.optional(element) )
{
return "dependency-mismatch";
}
var valLength = value.length;
var param1 = param[0];
var param2 = param[1];
if (param2 < 3)
{
alert("utf8LengthRange is invalid!["+param2+"<"+3 +"]");
}
else
{
param1 = Math.ceil(parseInt(param[0])/ 3);
param2 = Math.floor(parseInt(param[1]) / 3);
if (param1 < param2)
{
if (valLength >= param1 && valLength <= param2 )
{
return true;
}
}
else if (param1 == param2)
{
if (valLength == param2)
{
return true;
}
}
else
{
alert("utf8LengthRange ["+param1+","+param2+"] is invalid!");
}
}
return false;
},
function(param, element){
var lengthStr = "";
var param1 = param[0];
var param2 = param[1];
if (param2 < 3)
{
lengthStr = " Range Error!!!!!![param2<WEB_UTF8_REALBYTE]";
}
else
{
param1 = Math.ceil(parseInt(param[0])/ 3);
param2 = Math.floor(parseInt(param[1]) / 3);
if (param1 < param2)
{
lengthStr = param1 + " ~ " + param2;
}
else if (param1 == param2)
{
lengthStr = param2;
}
else
{
lengthStr = " Range Error!!!!!!["+param1+","+param2+"]";
}
}
return $.validator.format("Please enter a value with {0} characters.", lengthStr);
}
);
jQuery.validator.addMethod(
"differentWith",
function(value, element, param) {
var target = $(param);
if (this.settings.onfocusout) {
target.unbind(".validate-differentWith").bind("blur.validate-differentWith", function() {
$(element).valid();
});
}
return value != target.val();
},
function(param, element){
var t = $(param).closest("[id^=template_]");
var id = $(param).attr("id");
var labelObj = $("label[for='"+id+"']",t);
var label = labelObj.text();
if($(element).is("select"))
{
return $.validator.format("Please select an option different with \"{0}\".", label);
}
else
{
return $.validator.format("Please enter a value different with \"{0}\".", label);
}
}
);
function ShowError(element, info) {
var rowObj = element.closest(".row");
if ( rowObj.length == 0)
{
consoleLog("element id=["+element.attr("id")+"] is not in row div.");
return ;
}
if ( info.txt == "")
{
consoleLog("no need check.");
return ;
}
var id = element.attr("id");
var errorHTML = "<label for='" + id + " generated='true' class='error'>" + info.txt + " </label>";
var error = $(errorHTML);
var tipHTML = "<div class=\"errorLabelWraper\"></div>";
var tipObj = $(tipHTML);
error.appendTo(tipObj);
_validator_setDefaults (tipObj, rowObj);
}
function validmethodcheck(eleobj, rule, messages)
{
var errorobj = eleobj.parents(".row").find(".errorLabelWraper");
errorobj.remove();
var r = {
txt: "",
aClass: "",
id: ""
};
var errormsg = "";
for(var key in rule)
{
switch(key)
{
case "required":
if (eleobj.attr("type") == "text"
|| eleobj.attr("type") == "password")
{
if (eleobj.val() == "")
{
errormsg = "This field is required. "
}
}
else if (eleobj.attr("type") == "checkbox")
{
if (eleobj.attr("checked") != "checked"
|| eleobj.attr("checked") == false
|| eleobj.is(":checked") == false)
{
errormsg = messages[eleobj.attr("id")];
}
}
break;
case "maxlength":
if (eleobj.val().length < rule[key])
{
errormsg = "This field is required. "
}
break;
case "ASCII":
if ( false == AsciiCheck(eleobj.val()) )
{
errormsg = "Please enter only ASCII characters. ";
}
break;
case "equalTo":
var newidobj = $(rule[key]);
if (newidobj.val() != eleobj.val() )
{
errormsg = "Please enter the same value again. ";
}
break;
default:
break;
}
if (errormsg != "")
{
r.txt = errormsg;
r.aClass = "error";
r.id = eleobj.attr("id");
break;
}
}
return r;
}
function CheckValid(inputId, templateId, rules, customTip){
this.inputObj = $("[id^="+inputId+"]", $("#"+templateId));
this.check = function(o, v){
var r;
if (typeof(rules) == "object"){
r = validmethodcheck(this.inputObj, rules[inputId], rules["messages"]);
}
return r;
};
var theCPSObj = this;
this.showResut = function(o, v) {
var r = theCPSObj.check(o, v);
ShowError(o, r);
};
var inputtype = this.inputObj.attr("type");
switch(inputtype)
{
case "text":
case "password":
this.inputObj.bind("keyup", function(){
var v = $(this).val();
theCPSObj.showResut($(this), v)
});
break;
case "checkbox":
this.inputObj.click(function(){
var v = $(this).val();
theCPSObj.showResut($(this), v);
});
break;
default:
break;
}
}
function checklogin(template,rules)
{
var templateobj = template;
var IsAllowSubmit = true;
var inputobj = template.find("input[type!='hidden']");
var r = {
txt: "",
aClass: "",
id: ""
};
inputobj.each(function(o,v){
var obj = $(this);
var id = obj.attr("id");
var v = obj.val();
var tempAllowSubmit = true;
if (id != "" && typeof(rules[id]) == "object")
{
r = validmethodcheck(obj, rules[id], rules["messages"]);
if (r.txt != "")
{
tempAllowSubmit = false;
IsAllowSubmit = IsAllowSubmit & tempAllowSubmit;
ShowError(obj, r);
}
}
});
console.log("IsAllowSubmit   =" + IsAllowSubmit);
return IsAllowSubmit;
}
function webSubmitForm() {
this.CreateNewSubmitForm = function() {
var submitForm = document.createElement("FORM");
document.body.appendChild(submitForm);
submitForm.method = "POST";
submitForm.action="";
submitForm.id="flogin";
return submitForm;
};
this.createNewFormElement = function(elementName, elementValue) {
var newElement = document.createElement('INPUT');
newElement.setAttribute('name', elementName);
newElement.setAttribute('value', elementValue);
newElement.setAttribute('type', 'hidden');
return newElement;
};
this.addParameter = function(sName, sValue) {
var ele = this.createNewFormElement(sName, sValue);
this.Form.appendChild(ele);
};
this.Form = this.CreateNewSubmitForm();
}
function pro_TempPageFooter(obj)
{
obj.remove();
}
function pro_TemLogUser(obj)
{
obj.remove();
}
function HelpAndSupport()
{
window.location.href = "http://www.ote.gr";
}
function pro_TempInsetLink(obj)
{
var InsertValue = "<div id='helpAndSupport' class='clickable'"
+ " onclick='HelpAndSupport()'>"
+ "Help and Support"
+"</div>";
obj.append(InsertValue);
}
function pro_Template()
{
var funcArray =[[pro_TempPageFooter, "page_footer"],
[pro_TemLogUser, "logUser"],
[pro_TempInsetLink, "banner_switchArea"]];
return funcArray;
}
function home_wan_setting_url()
{
var wanurl = "Internet_AdminInternetStatus_DSL_t.lp";

return wanurl;
}
meta_menu = new Array();
meta_menu['mmHome'] = new Array();
meta_menu['mmHome']['langName'] = 'Home';
meta_menu['mmInternet'] = new Array();
meta_menu['mmInternet']['langName'] = 'Internet';
meta_menu['mmLocalnet'] = new Array();
meta_menu['mmLocalnet']['langName'] = 'Local Network';
meta_menu['mmVoip'] = new Array();
meta_menu['mmVoip']['langName'] = 'VoIP';
meta_menu['mmManagDiag'] = new Array();
meta_menu['mmManagDiag']['langName'] = 'Management';

var _sessionTmpToken = "\x37\x30\x39\x39\x34\x39\x30\x30\x35\x34\x37\x32\x38\x38\x30\x39";
var preLoadImg = [];
preLoadImg[0] = "/img/nv_s.gif";
preLoadImg[1] = "/img/nv_left.gif";
preLoadImg[2] = "/img/nv_right.gif";
preLoadImg[3] = "/img/nv_middle.gif";
preLoadImg[4] = "/img/English_s.gif";
preLoadImg[5] = "/img/Chinese.gif";
preLoadImg[6] = "/img/Chinese_s.gif";
preLoadImg[7] = "/img/English.gif";
preLoadImg[8] = "/img/waiting.gif";
preLoadImg[9] = "/img/info_m.png";
preLoadImg[10] = "/img/waiting_w.gif";
function preload(Img)
{
var imgTmp = [];
for (var i=0; i<Img.length; i++)
{
imgTmp[i] = new Image();
imgTmp[i].src = Img[i];
}
}
preload(preLoadImg);
</script>
</head>
<body>
<script type="text/javascript">
if(top != self)
{
document.getElementsByTagName("body")[0].style.display = 'none';
top.location = self.location;
}
function LogOff()
{
$("#IF_LogOff").attr("value","1");
document.getElementById("fmainframe").submit();
}
</script>
<div id="blackMask" class="black_overlay" style="display:none;"></div>
<div id="tipLayer" class="white_content">
<div id="confirmLayer" style="display:none;">
<div id="confirmMsg">
<p>are you sure?</p>
</div>
<div id="waitingImgArea" style="display:none;">
</div>
<div id="confirmBtnArea" style="display:none;">
<input type="button" class="button" id="confirmCancel" value="Cancel" />
<input type="button" class="button" id="confirmOK" value="OK" />
<input type="button" class="button" id="confirmStop" value="Stop" />
</div>
</div>
</div>
<div id="page_container">
<div id="page_header">
<div id="banner">
<div id="logo" class="logo"></div>
<div class="bannerswtch timeArea" id="timeArea" style="display:none;">
Current Time: <span id="_DevCurrTime">Loading...</span>
</div>
<div id="banner_switchArea">
<div id="logOff" class="bannerswtch clickable" onclick="LogOff()">
<div id="LogOffLnk"> Logout</div>
<div id="logUser" class="logUser" title="">

</div>
</div>
</div>
</div>
<form name="fmainframe" id="fmainframe" method="POST" onsubmit="return false;" action="/">
<input type="hidden" name="IF_LogOff" id="IF_LogOff" value="">
<input type="hidden" name="IF_LanguageSwitch" id="IF_LanguageSwitch" value="">
</form>
<div id="mainNavigator">
<div id="mn_first"></div>
<div id="mn_li"></div>
<div id="mn_last"></div>
</div>
</div>
<div id="page_content">
<script language="javascript">
/**
 * [js-sha256]
 *
 * @version 0.5.0
 * @copyright 2014-2017
 * @license MIT
 */
!function(){"use strict";function t(t,h){h?(c[0]=c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0,this.blocks=c):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}var h="object"==typeof window?window:{},i=!h.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;i&&(h=global);var s=!h.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,e="function"==typeof define&&define.amd,r="undefined"!=typeof ArrayBuffer,n="0123456789abcdef".split(""),o=[-2147483648,8388608,32768,128],a=[24,16,8,0],f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=["hex","array","digest","arrayBuffer"],c=[],p=function(h,i){return function(s){return new t(i,!0).update(s)[h]()}},d=function(h){var s=p("hex",h);i&&(s=y(s,h)),s.create=function(){return new t(h)},s.update=function(t){return s.create().update(t)};for(var e=0;e<u.length;++e){var r=u[e];s[r]=p(r,h)}return s},y=function(t,h){var i=require("crypto"),s=require("buffer").Buffer,e=h?"sha224":"sha256",n=function(h){if("string"==typeof h)return i.createHash(e).update(h,"utf8").digest("hex");if(r&&h instanceof ArrayBuffer)h=new Uint8Array(h);else if(void 0===h.length)return t(h);return i.createHash(e).update(new s(h)).digest("hex")};return n};t.prototype.update=function(t){if(!this.finalized){var i="string"!=typeof t;i&&r&&t instanceof h.ArrayBuffer&&(t=new Uint8Array(t));for(var s,e,n=0,o=t.length||0,f=this.blocks;o>n;){if(this.hashed&&(this.hashed=!1,f[0]=this.block,f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0),i)for(e=this.start;o>n&&64>e;++n)f[e>>2]|=t[n]<<a[3&e++];else for(e=this.start;o>n&&64>e;++n)s=t.charCodeAt(n),128>s?f[e>>2]|=s<<a[3&e++]:2048>s?(f[e>>2]|=(192|s>>6)<<a[3&e++],f[e>>2]|=(128|63&s)<<a[3&e++]):55296>s||s>=57344?(f[e>>2]|=(224|s>>12)<<a[3&e++],f[e>>2]|=(128|s>>6&63)<<a[3&e++],f[e>>2]|=(128|63&s)<<a[3&e++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++n)),f[e>>2]|=(240|s>>18)<<a[3&e++],f[e>>2]|=(128|s>>12&63)<<a[3&e++],f[e>>2]|=(128|s>>6&63)<<a[3&e++],f[e>>2]|=(128|63&s)<<a[3&e++]);this.lastByteIndex=e,this.bytes+=e-this.start,e>=64?(this.block=f[16],this.start=e-64,this.hash(),this.hashed=!0):this.start=e}return this}},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,h=this.lastByteIndex;t[16]=this.block,t[h>>2]|=o[3&h],this.block=t[16],h>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[15]=this.bytes<<3,this.hash()}},t.prototype.hash=function(){var t,h,i,s,e,r,n,o,a,u,c,p=this.h0,d=this.h1,y=this.h2,l=this.h3,b=this.h4,v=this.h5,g=this.h6,w=this.h7,k=this.blocks;for(t=16;64>t;++t)e=k[t-15],h=(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,e=k[t-2],i=(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10,k[t]=k[t-16]+h+k[t-7]+i<<0;for(c=d&y,t=0;64>t;t+=4)this.first?(this.is224?(o=300032,e=k[0]-1413257819,w=e-150054599<<0,l=e+24177077<<0):(o=704751109,e=k[0]-210244248,w=e-1521486534<<0,l=e+143694565<<0),this.first=!1):(h=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),i=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7),o=p&d,s=o^p&y^c,n=b&v^~b&g,e=w+i+n+f[t]+k[t],r=h+s,w=l+e<<0,l=e+r<<0),h=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),i=(w>>>6|w<<26)^(w>>>11|w<<21)^(w>>>25|w<<7),a=l&p,s=a^l&d^o,n=w&b^~w&v,e=g+i+n+f[t+1]+k[t+1],r=h+s,g=y+e<<0,y=e+r<<0,h=(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10),i=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),u=y&l,s=u^y&p^a,n=g&w^~g&b,e=v+i+n+f[t+2]+k[t+2],r=h+s,v=d+e<<0,d=e+r<<0,h=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),i=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),c=d&y,s=c^d&l^u,n=v&g^~v&w,e=b+i+n+f[t+3]+k[t+3],r=h+s,b=p+e<<0,p=e+r<<0;this.h0=this.h0+p<<0,this.h1=this.h1+d<<0,this.h2=this.h2+y<<0,this.h3=this.h3+l<<0,this.h4=this.h4+b<<0,this.h5=this.h5+v<<0,this.h6=this.h6+g<<0,this.h7=this.h7+w<<0},t.prototype.hex=function(){this.finalize();var t=this.h0,h=this.h1,i=this.h2,s=this.h3,e=this.h4,r=this.h5,o=this.h6,a=this.h7,f=n[t>>28&15]+n[t>>24&15]+n[t>>20&15]+n[t>>16&15]+n[t>>12&15]+n[t>>8&15]+n[t>>4&15]+n[15&t]+n[h>>28&15]+n[h>>24&15]+n[h>>20&15]+n[h>>16&15]+n[h>>12&15]+n[h>>8&15]+n[h>>4&15]+n[15&h]+n[i>>28&15]+n[i>>24&15]+n[i>>20&15]+n[i>>16&15]+n[i>>12&15]+n[i>>8&15]+n[i>>4&15]+n[15&i]+n[s>>28&15]+n[s>>24&15]+n[s>>20&15]+n[s>>16&15]+n[s>>12&15]+n[s>>8&15]+n[s>>4&15]+n[15&s]+n[e>>28&15]+n[e>>24&15]+n[e>>20&15]+n[e>>16&15]+n[e>>12&15]+n[e>>8&15]+n[e>>4&15]+n[15&e]+n[r>>28&15]+n[r>>24&15]+n[r>>20&15]+n[r>>16&15]+n[r>>12&15]+n[r>>8&15]+n[r>>4&15]+n[15&r]+n[o>>28&15]+n[o>>24&15]+n[o>>20&15]+n[o>>16&15]+n[o>>12&15]+n[o>>8&15]+n[o>>4&15]+n[15&o];return this.is224||(f+=n[a>>28&15]+n[a>>24&15]+n[a>>20&15]+n[a>>16&15]+n[a>>12&15]+n[a>>8&15]+n[a>>4&15]+n[15&a]),f},t.prototype.toString=t.prototype.hex,t.prototype.digest=function(){this.finalize();var t=this.h0,h=this.h1,i=this.h2,s=this.h3,e=this.h4,r=this.h5,n=this.h6,o=this.h7,a=[t>>24&255,t>>16&255,t>>8&255,255&t,h>>24&255,h>>16&255,h>>8&255,255&h,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n];return this.is224||a.push(o>>24&255,o>>16&255,o>>8&255,255&o),a},t.prototype.array=t.prototype.digest,t.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),h=new DataView(t);return h.setUint32(0,this.h0),h.setUint32(4,this.h1),h.setUint32(8,this.h2),h.setUint32(12,this.h3),h.setUint32(16,this.h4),h.setUint32(20,this.h5),h.setUint32(24,this.h6),this.is224||h.setUint32(28,this.h7),t};var l=d();l.sha256=l,l.sha224=d(!0),s?module.exports=l:(h.sha256=l.sha256,h.sha224=l.sha224,e&&define(function(){return l}))}();
var interval;
var prompt_msg;
function createTimeCountDownMessage(textSecond)
{
$("#login_error_waittime").attr("value",textSecond);
var timeOutHint = "The login is blocked for {0} seconds. ";
$("#login_error_waittime").text(timeOutHint.format(textSecond));
}
function showTimeCountDown(DiaplayLockTime)
{
$("#login_LockHint").show();
createTimeCountDownMessage(DiaplayLockTime);
$("#LoginId").attr("disabled","true");
$("#Frm_Password").attr("disabled","true");
$("#Frm_Username").attr("disabled","true");
timer(parseInt(DiaplayLockTime));
}
function timer(seconds) {
window.setTimeout(function() {
$("#Frm_Password").removeAttr("disabled");
$("#LoginId").removeAttr("disabled");
$("#Frm_Username").removeAttr("disabled");
$("#Frm_Username").focus();
if(interval) {
window.clearInterval(interval);
}
$("#login_LockHint").hide();
$("#login_error_waittime").text("");
}, seconds * 1000);
interval=window.setInterval(function(){
var textSecond = $("#login_error_waittime").attr("value");
textSecond = textSecond - 1;
createTimeCountDownMessage(textSecond);
}, 1000);
}
function g_loginToken(xml)
{
var xmlObj = $(xml).text();
var Password = $("#Frm_Password").val();
var SHA256Password = sha256(Password+xmlObj);
var LoginFormObj = new webSubmitForm();
LoginFormObj.addParameter("Username", $("#Frm_Username").val());
LoginFormObj.addParameter("Password", SHA256Password);
LoginFormObj.addParameter("action", "login");
LoginFormObj.Form.submit();
Password = undefined;
SHA256Password = undefined;
}
$(document).ready(function(){
var rules = {
Frm_Username : {
required: true
}
};
new CheckValid("Frm_Username", "loginContainer", rules);
var login_err_msg = "";
var DiaplayLockTime = "0";
DiaplayLockTime = parseInt(DiaplayLockTime);
if ( IsBrowserSupportCookie() == false )
{
$("#login_error").show();
$("#login_error_span").text("Your browser's cookie functionality is turned off, please turn it on before login.");
}
else if (DiaplayLockTime > 0)
{
if (login_err_msg != "")
{
$("#login_error").show();
$("#login_error_span").text(login_err_msg);
}
else
{
$("#login_error").hide();
}
showTimeCountDown(DiaplayLockTime);
}
else if (DiaplayLockTime < 0)
{
$("#login_error").show();
$("#login_error_span").text(login_err_msg);
}
else
{
$("#login_error").hide();
}
var focusTarget = $("#Frm_Username");
if (focusTarget.attr("disabled") != "disabled")
{
focusTarget.focus();
}
$("#LoginId").bind("click", function(){
if (checklogin($("#loginContainer"),rules) == true)
{
$("#LoginId").attr("disabled","disabled");
$("#Frm_Logintoken").value = "";
var loadAllowAddr = "/function_module/login_module/login_page/logintoken_lua.lua";
$(this).dataTransfer(loadAllowAddr, "GET", g_loginToken, undefined, false);
}
});
showWaitTip(false);
$("#Frm_Username,#Frm_Password,#password_shaddowed").keydown(function(e){
if(e.keyCode==13){
$("#LoginId").click();
}
});
});
</script>
<script type="text/javascript">
String.prototype.format = function(args) {
var result = this;
if (arguments.length > 0)
{
for (var i = 0; i < arguments.length; i++)
{
if (arguments[i] != undefined) {
var reg = new RegExp("({[" + i + "]})", "g");
result = result.replace(reg, arguments[i]);
}
}
}
return result;
}
function showOrHideRowDiv(action, RowDiv)
{
var subWidget = RowDiv.find("*[id!='']")
if ( action == "show" )
{
RowDiv.showIt(true);
subWidget.removeClass("PostIgnore");
}
else
{
RowDiv.showIt(false);
subWidget.addClass("PostIgnore");
}
}
function colonStripping(str)
{
var colonLocation = str.indexOf(":");
if ( colonLocation != -1 )
{
return str.substring(0, colonLocation);
}
return str;
}
jQuery.fn.showIt = function(show) {
if (show)
{
$(this).css("display", "");
}
else
{
$(this).css("display", "none");
}
}
jQuery.fn.cloneWithSuffix = function(suffix, splitter) {
var source = $(this);
var clone = source.clone(true);
clone.attr("id", clone.attr("id")+"_"+suffix);
if ( undefined == splitter )
{
splitter = ":";
}
var idElems = clone.find("*[id!='']");
idElems.each(function(){
var idEle = $(this);
var oldID = idEle.attr("id");
if (oldID != undefined)
{
var newID = oldID + splitter + suffix;
idEle.attr("id", newID);
}
var oldName = idEle.attr("name");
if (oldName != undefined)
{
var newName = oldName + splitter + suffix;
idEle.attr("name", newName);
}
});
labelForElems = clone.find("label");
labelForElems.each(function(){
var labelForEle = $(this);
var oldFor = labelForEle.attr("for");
if (oldFor != undefined)
{
var newFor = oldFor + splitter + suffix;
labelForEle.attr("for", newFor);
}
});
clone.trigger("applyPromptCheckJSON", [clone]);
return clone;
}
function initial_sceneTip()
{
$(".sceneTip_container").each(function(){
$(this).hide();
});
$(".sceneTipLink").each(function(){
var sceneTipLinkContent = $(this).children();
sceneTipLinkContent.unbind( "click" );
sceneTipLinkContent.click(function(event){
event.preventDefault();
$(this).parent().next().slideToggle("normal");
});
});
$(".sceneTip_close").each(function(){
var sceneTip_closeLink = $(this).children();
sceneTip_closeLink.unbind( "click" );
sceneTip_closeLink.click(function(){
$(this).parent().parent().slideUp("normal");
});
});
}
function succHintShow(template)
{
var PostFeedbackOBJ = $(".succHint",template);
PostFeedbackOBJ.fadeIn(1000);
window.setTimeout(
function() {
PostFeedbackOBJ.fadeOut(1000);
PostFeedbackOBJ.hide();
},
2000
);
}
jQuery.fn.dataTransfer = function(URL, transferType, success_func, error_func, IfShowWaitTip, async, dataType){
if ( !URL || URL == "" )
{
consoleLog("[dataTransfer]URL is illegal!");
return;
}
var IfShowWaitTipTmp = IfShowWaitTip;
if ( IfShowWaitTipTmp == undefined )
{
IfShowWaitTipTmp = true;
}
var asyncTemp = async;
if ( asyncTemp == undefined )
{
asyncTemp = true;
}
if ( !dataType )
{
var dataType = "xml";
}
if ( IfShowWaitTipTmp == true )
{
showWaitTip(true);
}
var Head = $(this);
$.ajax({
url:URL,
type: transferType,
dataType: dataType,
timeout: 30000,
async: asyncTemp,
cache:false,
error: function(){
if ($.isFunction(error_func))
{
error_func();
}
else
{
if (Head != undefined)
{
var ajaxTransferFailHint = "The server is not available now. Please refresh page to reload. ";
var externErrorHint = $(".externErrorHint",Head);
if ( externErrorHint != undefined )
{
$("span",externErrorHint).text(ajaxTransferFailHint);
externErrorHint.showIt(true);
}
}
showWaitTip(false);
}
},
success: function(xml){
success_func(xml);
if ( IfShowWaitTipTmp == true )
{
showWaitTip(false);
}
}
});
}
function HTMLEnCode(str)
{
var s = "";
if (typeof(str) != "string")
{
return str;
}
if(str.length == 0)
{
return "";
}
s = str.replace(/&/g, "&#38;");
s = s.replace(/</g, "&#60;");
s = s.replace(/>/g, "&#62;");
s = s.replace(/ /g, "&#32;");
s = s.replace(/\'/g, "&#39;");
s = s.replace(/\"/g, "&#34;");
return s;
}
function addSlash(srcStr)
{
var str = "";
var ch = "";
if (typeof(srcStr) != "string")
{
return srcStr;
}
for(var i = 0; i < srcStr.length; i++)
{
ch = srcStr.substr(i, 1);
if( "\\" == ch )
{
ch = "\\\\";
}
else if( "\'" == ch )
{
ch = "\\\'";
}
else if( "\"" == ch )
{
ch = "\\\"";
}
str = str + ch;
}
return str;
}
function SetSelectValue(SelectElem, data)
{
$("option[class='_optExpHandle']", SelectElem).remove();
var findOption = 0;
$("option", SelectElem).removeAttr("selected");
$("option", SelectElem).each(function(){
var OptionObj = $(this);
if ( OptionObj.val() == data )
{
findOption = 1
OptionObj.attr("selected","selected");
return false;
}
});
if ( findOption == 0 )
{
SelectElem.append("<option value='"+ HTMLEnCode(data)
+ "' title='--Unknown--' class='_optExpHandle'>"
+ "--Unknown--" + "</option>");
$("option[value='"+addSlash(data)+"']",SelectElem).attr("selected","selected");
}
}
jQuery.fn.fillDataByType = function(data){
var Elems = $(this);
if (Elems.is("input"))
{
switch (Elems.attr("type"))
{
case "hidden":
{
Elems.attr("value", data);
if (Elems.attr("_LuQUID_splitMACID") != undefined)
{
var splitMACID = Elems.attr("_LuQUID_splitMACID");
Elems.FillIPorMacDataBySplit(splitMACID, ":", 6);
}
else if (Elems.attr("_LuQUID_splitIPID") != undefined)
{
var splitIPID = Elems.attr("_LuQUID_splitIPID");
Elems.FillIPorMacDataBySplit(splitIPID, ".", 4);
}
break;
}
case "text":
case "password":
{
Elems.attr("value", data);
if (typeof(Elems.attr("title")) != "undefined")
{
Elems.attr("title", data);
}
break;
}
case "checkbox":
{
if( 1 == data )
{
Elems.attr("checked", true);
}
else
{
Elems.attr("checked", false);
}
Elems.attr("value",data);
break;
}
default:
{
break;
}
}
}
else if (Elems.is("span"))
{
Elems.text(data);
if (typeof(Elems.attr("title")) != "undefined")
{
Elems.attr("title", data);
}
}
else if (Elems.is("a"))
{
Elems.text(data);
Elems.attr("href",data);
}
else if (Elems.is("select"))
{
SetSelectValue(Elems, data);
}
else if (Elems.is("textarea"))
{
Elems.attr("value", data);
}
else if (Elems.is("label"))
{
Elems.text(data);
}
else if (Elems.is("div"))
{
var radioObj = $("input[type=radio]", Elems);
radioObj.each(function(){
var thisObj = $(this);
if (thisObj.attr("value") == data)
{
thisObj.attr("checked", "checked");
}
else
{
thisObj.removeAttr("checked");
}
});
}
else
{
}
}
jQuery.fn.fillDataByOBJID = function(xml, OBJIDs, Clone, suffix, splitter){
if ( undefined == splitter )
{
splitter = ":";
}
for (var i=0; i<OBJIDs.length; i++)
{
var OBJID = OBJIDs[i];
var OBJIDSplit = OBJID.split(":");
var OBJIDIndex = 0;
var isSplitterExist = 0;
if ( OBJIDSplit.length == 2 )
{
OBJID = OBJIDSplit[0];
OBJIDIndex = parseInt(OBJIDSplit[1]);
isSplitterExist = 1;
}
var OBJs = $(xml).find(OBJID);
if ( OBJs.length == 0 )
{
continue;
}
var OBJ;
if ( OBJIDIndex < OBJs.length )
{
OBJ = OBJs.get(OBJIDIndex);
}
else
{
continue;
}
var instances;
if ( 1 == isSplitterExist )
{
instances = $("Instance", OBJ);
}
else
{
instances = $("Instance", OBJs);
}
if ( instances.length <= suffix
|| suffix < 0 )
{
consoleLog("suffix off normal upper!!");
continue;
}
var InstOBJ = instances.eq(suffix);
InstOBJ.find("ParaName").each(function(){
var ParaName = $(this).text();
var ParaValue = $(this).next().text();
var Elems = $("[id^='"+ParaName+splitter+"']", Clone);
if ( Elems.length == 0 )
{
Elems = $("#"+ParaName, Clone);
}
if ( Elems.length > 0 )
{
if ( Elems.length > 1 )
{
consoleLog("this ele id is duplicate[" +Elems.attr("id")+ "]");
}
Elems.fillDataByType(ParaValue);
}
else
{
if ( "_InstID" != ParaName )
{
consoleLog("XML ParaName("+ParaName+") cannot map to HTML "
+ "by fillDataByType, so it may be useless, "
+ "web security require deleting it!");
}
}
});
}
if (typeof(pro_CommonPage) !="undefined" && $.isFunction(pro_CommonPage))
{
var FunArray = pro_CommonPage(Clone);
for (var i=0; i < FunArray.length; i++)
{
if ($.isFunction(FunArray[i][0]))
{
var idobj = FunArray[i][1];
FunArray[i][0](idobj);
}
}
}
$(".SpecialPassword", Clone).each(function(i){
$(this).attr("value", "						");
});
}
jQuery.fn.createPageDataByClone = function(RuleNum,DataOBJID,xml,fillDataByCustom){
var Head = $(this);
var HeadID = Head.attr("id");
var TemplateOBJ = $("#template_"+HeadID , Head);
$("#_InstNum", Head).attr("value",RuleNum);
for (var i=0; i<RuleNum; i++)
{
var clone = TemplateOBJ.cloneWithSuffix(i);
TemplateOBJ.before(clone);
clone.fillDataByOBJID(xml ,DataOBJID, clone, i);
if ( $.isFunction(fillDataByCustom) )
{
fillDataByCustom(i,clone);
}
else
{
clone.trigger("fillDataByCustom",[i,clone]);
}
clone.showIt(true);
}
}
jQuery.fn.hasError = function(xml, errobj, container){
var ContentContainer = $("#"+container);
var cmapiErrorContainer;
var errStr = $("IF_ERRORSTR", $(xml));
var errParam = $("IF_ERRORPARAM", $(xml));
if (errStr.length <= 0 || errParam.length <= 0)
{
consoleLog("[hasError:]cannot find IF_ERRORSTR or IF_ERRORPARAM");
return;
}
if(!container)
{
ContentContainer = $(this);
}
if (!errobj)
{
errobj = "errorHint";
}
if (errobj == "externErrorHint")
{
cmapiErrorContainer = $(".externErrorHint",ContentContainer);
}
else
{
cmapiErrorContainer = $("."+errobj,ContentContainer);
}
var ErrorString = $("IF_ERRORSTR", $(xml)).text();
var ErrorParam = $("IF_ERRORPARAM", $(xml)).text();
if ( ErrorString == "SUCC" )
{
cmapiErrorContainer.showIt(false);
return 0;
}
else if ( ErrorString == "SessionTimeout" )
{
window.location.href = "/";
return 1;
}
else
{
var cmapiErrorContainerHtml = "";
var paraString = "";
if ( ErrorParam != "SUCC")
{
var LabelFindResult = 0;
ErrorString = "Current operation is invalid, please check whether {0} is legal. "
var paraLabel = ContentContainer.find("label[for^='"+ErrorParam+"\\:']");
if ( paraLabel.length <= 0 )
{
paraLabel = ContentContainer.find("label[for='"+ErrorParam+"']");
}
if ( paraLabel.length > 0 )
{
paraLabel.each(function(){
var labelTmp = $(this);
if ( !labelTmp.hasClass("error"))
{
paraString = labelTmp.text();
LabelFindResult = 1;
return false;
}
});
}
if ( LabelFindResult == 0 )
{
ErrorString = "Current operation is invalid, please check configuration parameters. ";
}
cmapiErrorContainerHtml = ErrorString.format(paraString);
}
else
{
if ( "FAIL" == ErrorString
|| "Current operation is invalid, please check whether {0} is legal. " == ErrorString )
{
ErrorString = "Current operation is invalid, please check configuration parameters. ";
}
cmapiErrorContainerHtml = ErrorString;
}
$("span",cmapiErrorContainer).html(cmapiErrorContainerHtml);
cmapiErrorContainer.showIt(true);
return 1;
}
}
jQuery.fn.ShouldPostIgnore = function(){
if($(this).hasClass("PostIgnore"))
{
return true;
}
return false;
}
jQuery.fn.InitialPostData = function(actionType){
var AND = "&";
var template = $(this);
var PostData = "IF_ACTION=" + actionType;
var formInputContent = template.find("input,select");
formInputContent.each(function(key){
var Elems = $(this);
if ( Elems.ShouldPostIgnore() )
{
return true;
}
var ElemsID = Elems.attr("id");
if ( Elems.attr("type") == "radio" )
{
if ( Elems.is(':checked') )
{
ElemsID = Elems.attr("name");
}
else
{
return true;
}
}
var ElemsMainID = colonStripping(ElemsID);
var ElemsValue = "";
if ( Elems.is("input") )
{
switch (Elems.attr("type"))
{
case "hidden":
{
if (Elems.attr("_LuQUID_splitMACID") != undefined)
{
var splitMACID = Elems.attr("_LuQUID_splitMACID");
Elems.FillIPorMacDataCombination(splitMACID, ":", 6);
}
else if (Elems.attr("_LuQUID_splitIPID") != undefined)
{
var splitIPID = Elems.attr("_LuQUID_splitIPID");
Elems.FillIPorMacDataCombination(splitIPID, ".", 4);
}
ElemsValue = Elems.attr("value");
break;
}
case "text":
case "password":
case "radio":
{
ElemsValue = Elems.attr("value");
break;
}
case "checkbox":
{
if( Elems.attr('checked')=="checked"
|| Elems.attr('checked')==true )
{
ElemsValue = 1;
}
else
{
ElemsValue = 0;
}
break;
}
default:
{
break;
}
}
}
else if ( Elems.is("select") )
{
ElemsValue = Elems.val();
}
else
{
consoleLog("when create post data, find not support elements type!!");
}
var NameValueJson = {
"ElemsMainID": ElemsMainID,
"ElemsValue": ElemsValue
};
template.trigger("PostDataChangeByCustom",[NameValueJson,template]);
var RealElemsValue = encodeURIComponent(NameValueJson.ElemsValue);
PostData += AND + ElemsMainID + "=" + RealElemsValue;
});
return PostData;
}
function RefreshClickHandle(Head)
{
$(".Btn_refresh", Head).each(function(){
$(this).unbind("click");
$(this).bind("click", function(){
var buttonOBJ = $(this);
if (buttonOBJ.hasClass("disableBtn")
||buttonOBJ.hasClass("disableLongBtn"))
{
return;
}
var HeadID = Head.attr("id");
Head.find("[id^='template_"+HeadID+"_']").each(function(){
$(this).remove();
});
var ServerAddr = $("address span", Head).text();
Head.dataTransfer(ServerAddr,
"GET",
Head.succfunction,
Head.failfunction,
undefined,
true);
});
})
}
function initial_special_password(Head)
{
$(".SpecialPassword", Head).each(function(){
$(this).mouseup( function(){
if(this.focused){
this.focused=false;
return false;
}
});
});
$(".SpecialPassword", Head).each(function(){
$(this).focus( function(){
this.select();
this.focused=true;
});
});
}
function initial_button(buttonType, Head, IfShowWaitTip)
{
if ( !Head )
{
consoleLog("incoming para:Head is not defined!");
return;
}
var buttonClass = "";
var eventHandler = "";
if ( buttonType == "Apply" )
{
buttonClass = "Btn_apply";
eventHandler = "fillDataByApplyResult";
}
else if ( buttonType == "Cancel" )
{
buttonClass = "Btn_cancel";
eventHandler = "fillDataByCancelResult";
}
else if ( buttonType == "Delete" )
{
buttonClass = "Btn_delete";
eventHandler = "fillDataByDeleteResult";
}
else
{
}
$("."+buttonClass, Head).each(function(){
$(this).unbind("click");
$(this).bind("click",function(event){
var buttonOBJ = $(this);
if (buttonOBJ.hasClass("disableBtn")
||buttonOBJ.hasClass("disableLongBtn"))
{
return;
}
var Head = buttonOBJ.parents(".HeadDIV");
var template = buttonOBJ.parents("[id^='template']");
var ActionBeforePostResult = {result: "Process"};
template.trigger("ActionBeforePostByCustom",[template,ActionBeforePostResult]);
if (ActionBeforePostResult.result != "Process")
{
return;
}
var ThisInstID = $("[id^='_InstID']",template).attr("value");
if ( ThisInstID == -1
&& (buttonType == "Cancel" || buttonType == "Delete") )
{
template.remove();
return;
}
var ServerAddr = $("address span", Head).text();
var IfShowWaitTipTmp = IfShowWaitTip;
if ( IfShowWaitTipTmp == undefined )
{
IfShowWaitTipTmp = true;
}
if ( buttonType == "Apply" )
{
var formOBJ = $(".form_content", template);
if ( formOBJ.length > 0 && false == formOBJ.valid() )
{
return;
}
else
{
var formObj = $(".form_content", template);
var txtInputObjs = $("input[type='text']", formObj);
txtInputObjs.each(function(){
var obj = $(this);
var rules = obj.rules();
if (rules.integer)
{
var intStr = obj.val();
var sign, digits;
if ( intStr.charAt(0) == '-' )
{
sign = "-";
digits = intStr.substring(1);
}
else
{
sign = "";
digits = intStr;
}
while(digits.charAt(0) == '0' && digits.length > 1)
{
digits = digits.substring(1);
}
intStr = sign + digits;
obj.val(intStr);
}
});
var passObj = $(".passRules",template);
for(var i=0;i<passObj.length;i++)
{
if(passObj.eq(i).is(":visible"))
{
var passVal = passObj.eq(i).val();
if(passVal != "						" &&(!(getPwdLevel(passVal,""))))
{
var msg = "Current password is weak,a strong password should contain characters,digits and special symbols. Are you sure to continue？";
var confirmLayerOBJ = IniConfirm(msg);
$("#confirmOK",confirmLayerOBJ).bind("click", function(event){
dataPost(buttonType, eventHandler, ServerAddr, template, undefined, IfShowWaitTipTmp);
});
return;
}
}
}
}
var IPMACCheckResult = {result: "checkOK"};
template.trigger("wholeIPorMACCheck",[template,IPMACCheckResult]);
if (IPMACCheckResult.result != "checkOK")
{
return;
}
}
dataPost(buttonType, eventHandler, ServerAddr, template, undefined, IfShowWaitTipTmp);
});
});
}
function dataPost(actionType, PostSuccHandler, ServerAddr, template, PostData, IfShowWaitTip, asyncFlag)
{
var IfShowWaitTipTmp = IfShowWaitTip;
if ( IfShowWaitTipTmp == undefined )
{
IfShowWaitTipTmp = true;
}
if (asyncFlag == undefined)
{
asyncFlag = true;
}
var PostDataTmp = "";
if (PostData == undefined)
{
template.trigger("hiddenValueChangeByCustom",[template, actionType]);
PostDataTmp = template.InitialPostData(actionType);
}
else
{
PostDataTmp = PostData;
}
PostDataTmp += "&_sessionTOKEN="+_sessionTmpToken;
if ( IfShowWaitTipTmp == true )
{
showWaitTip(true);
}
$.ajax({
url:ServerAddr,
type: 'POST',
data: PostDataTmp,
dataType: 'xml',
async: asyncFlag,
timeout: 30000,
cache:false,
error: function(){
var ajaxPostFailHint = "The server is not available now. Please refresh page to reload. ";
var errorContainer = $(".errorHint",template);
var changeArea = $(".ChangeArea",template);
var collapsibleInst = $(".collapsibleInst",template);
if ( errorContainer != undefined )
{
$("span", errorContainer).text(ajaxPostFailHint);
errorContainer.showIt(true);
if ( changeArea != undefined )
{
changeArea.showIt(true);
}
if ( collapsibleInst != undefined )
{
collapsibleInst.addClass("instNameExp");
}
template.showIt(true);
}
showWaitTip(false);
},
success: function(xml){
template.trigger(PostSuccHandler,[xml,template]);
if (template.hasError(xml,"_noExist") == 0)
{
$(".SpecialPassword", template).each(function(i)
{
var IsEnableControl = template.find(".PasswordEnable");
var IsResetControl = template.find(".IsResetClass");
if (IsEnableControl.length > 0)
{
var EnableRadio = $("input[class='PasswordEnable']:checked", template).val();
if (IsResetControl.length > 0)
{
var ResetValue = $("input[class='IsResetClass']", template).val();
if(ResetValue == "1")
{
$(this).attr("value", "");
}
else
{
PasswordDotDisplay(template, EnableRadio);
}
}
else
{
PasswordDotDisplay(template, EnableRadio);
}
}
else
{
$(this).attr("value", "						");
}
});
}
var formObj = $(".form_content", template);
var errObjs = $(".errorLabelWraper > .error", formObj);
errObjs.attr("style", "display:none");
if ( IfShowWaitTipTmp == true )
{
showWaitTip(false);
}
}
});
}
function focusAndSelectInput(jqObj)
{
var disValue = jqObj.attr("disabled");
if (disValue != "disabled" && disValue != true)
{
jqObj.focus();
jqObj.select();
}
}
function FocusAutoJump(obj,value,e)
{
var objJQ = $(obj);
var objId = colonStripping(obj.id);
var objParent = objJQ.parent();
var valLen = value.length;
var idKeyword = objId.replace(/\d+$/,"");
var curIndex = objId.match(/\d+$/);
var nextIndex = parseInt(curIndex, 10) + 1;
var nextID = idKeyword + nextIndex;
var nextOBJ = $("[id^='"+nextID+"']",objParent);
var prevIndex = parseInt(curIndex, 10);
if (prevIndex > 0)
{
prevIndex = prevIndex - 1;
}
var prevID = idKeyword + prevIndex;
var prevOBJ = $("[id^='"+prevID+"']",objParent);
var keynum;
if(window.event)
{
keynum = e.keyCode;
}
else if(e.which)
{
keynum = e.which;
}
var temp = value.substring(valLen-1, valLen);
if(("."==temp) && (objJQ.attr("class").indexOf("ip") != -1) && (0 != valLen))
{
objJQ.attr("value", value.substring(0, valLen-1))
if("."!=value)
{
focusAndSelectInput(nextOBJ);
}
}
if (valLen == obj.maxLength)
{
if ( nextOBJ.length <= 0 )
{
return;
}
if (9 != keynum && 16 != keynum && 35 != keynum && 36 != keynum &&
37 != keynum && 38 != keynum && 39 != keynum && 40 != keynum &&
46 != keynum && 8 != keynum && objJQ.valid() == 1)
{
focusAndSelectInput(nextOBJ);
}
}
else if (valLen == 0 && 37 == keynum)
{
if (prevOBJ.length <= 0)
{
return;
}
focusAndSelectInput(prevOBJ);
}
else
{
return;
}
}
function autoJumpBack(obj,value,e)
{
var objJQ = $(obj);
var objId = colonStripping(obj.id);
var objParent = objJQ.parent();
var valLen = value.length;
var idKeyword = objId.replace(/\d+$/,"");
var curIndex = objId.match(/\d+$/);
var prevIndex = parseInt(curIndex, 10);
if (prevIndex > 0)
{
prevIndex = prevIndex - 1;
}
var prevID = idKeyword + prevIndex;
var prevOBJ = $("[id^='"+prevID+"']",objParent);
var keynum;
if(window.event)
{
keynum = e.keyCode;
}
else if(e.which)
{
keynum = e.which;
}
if (8 == keynum && valLen == 0)
{
if ( prevOBJ.length <= 0 )
{
return;
}
focusAndSelectInput(prevOBJ);
}
}
jQuery.fn.FillIPorMacDataBySplit = function(subid,Delimiter,length) {
var IPOBJ = $(this);
if ( IPOBJ.length == 0 )
{
return;
}
var containerOBJ = IPOBJ.parents("[id^='template_']");
var value = IPOBJ.attr("value");
if ( !value )
{
return;
}
var temp= value.split(Delimiter);
if (length != temp.length)
{
return;
}
for(var i=0; i<length; i++)
{
var fillOBJ = $("[id^='"+subid+i+"']",containerOBJ);
fillOBJ.attr("value",temp[i]);
}
}
jQuery.fn.FillIPorMacDataToInput = function(subid) {
var IPOBJ = $(this);
if ( IPOBJ.length == 0 )
{
return;
}
var containerOBJ = IPOBJ.parents("[id^='template_']");
var value = IPOBJ.attr("value");
if ( !value )
{
return
}
var fillOBJ = $("[id^='"+subid+"']",containerOBJ);
fillOBJ.attr("value",value);
}
jQuery.fn.FillIPorMacDataCombination = function(subid,Delimiter,length) {
var IPOBJ = $(this);
if ( IPOBJ.length == 0 )
{
return;
}
var containerOBJ = IPOBJ.parents("[id^='template_']");
var temp = "";
for(var i=0; i<length; i++)
{
var tempObj = $("[id^='"+subid+i+"']",containerOBJ);
if(0!=i)
{
temp += Delimiter;
}
var tempValue = tempObj.attr("value");
if ( !tempValue )
{
tempValue = "";
}
temp += tempValue;
tempObj.addClass("PostIgnore");
}
IPOBJ.attr("value",temp);
return temp;
}
jQuery.fn.checkIPorMACbyApply = function(checkIPorMACObj, template, IPMACCheckResult){
var breakFlag = 0;
$.each(checkIPorMACObj, function(key, value){
if (breakFlag != 0)
{
return false;
}
if ($("[id^='sub_"+key+"']",template).is(":visible") != true)
{
return true;
}
var labelId = value.labelId;
var paraName = "";
var paraNameObj = template.find("label[for^='"+labelId+"\\:']");
if ( paraNameObj.length <= 0 )
{
paraNameObj = template.find("label[for='"+labelId+"']");
}
if ( paraNameObj.length > 0 )
{
paraNameObj.each(function(){
var labelTmp = $(this);
if (labelTmp.hasClass("error"))
{
return true;
}
paraName = labelTmp.text();
return false;
});
}
var elementType = value.eleType;
if (elementType == "IP")
{
var IPObj = $("[id^='"+key+"']",template);
IPObj.FillIPorMacDataCombination("sub_"+key, ".", 4);
var ipValue = IPObj.attr("value");
if (value.rules != undefined)
{
$.each(value.rules, function(k, v){
var ipRet = checkWholeIPv4(k, v, ipValue);
if (ipRet[0] == false)
{
var errMsg = getMsgofWholeMACIPCheck(ipRet, value, ipValue, paraName);
$(".errorHint",template).show();
$(".errorHint span",template).text(errMsg);
IPMACCheckResult.result = "checkFail";
breakFlag = 1;
return false;
}
else
{
$(".errorHint",template).hide();
}
});
}
}
else if (elementType == "MAC")
{
var MACObj = $("[id^='"+key+"']",template);
MACObj.FillIPorMacDataCombination("sub_"+key, ":", 6);
var macValue = MACObj.attr("value");
if (value.rules != undefined)
{
$.each(value.rules, function(k, v){
var macRet = checkWholeMac(k, v, macValue);
if (macRet[0] == false)
{
var errMsg = getMsgofWholeMACIPCheck(macRet, value, macValue, paraName);
$(".errorHint",template).show();
$(".errorHint span",template).text(errMsg);
IPMACCheckResult.result = "checkFail";
breakFlag = 1;
return false;
}
else
{
$(".errorHint",template).hide();
}
});
}
}
else
{
consoleLog("ElementType +'"+elementType+"' is not supported now!")
}
});
}
jQuery.fn.setPromptCheckJSON = function(checkJSONTempObj, template){
var templateID = template.attr("id");
var instIndex = templateID.match(/\d+$/);
var checkJSONInstObj = {"groups":{}, "rules":{}, "messages":{}};
if ( checkJSONTempObj.groups != undefined )
{
$.each(checkJSONTempObj.groups, function(key, value) {
var valJSONStr = value;
var idArr = value.split(" ");
for ( var i=0; i<idArr.length; i++ )
{
idArr[i] += ":"+instIndex;
}
valJSONStr = idArr.join(" ");
var parameterJSON = eval("({'"+key+":"+instIndex+"':'" + valJSONStr + "'})");
$.extend(checkJSONInstObj.groups, parameterJSON);
});
}
if ( checkJSONTempObj.rules != undefined )
{
$.each(checkJSONTempObj.rules, function(key, value) {
var parameterJSON = {};
parameterJSON[key + ":" + instIndex] = value;
$.extend(checkJSONInstObj.rules, parameterJSON);
});
}
if ( checkJSONTempObj.messages != undefined )
{
$.each(checkJSONTempObj.messages, function(key, value) {
var parameterJSON = {};
parameterJSON[key + ":" + instIndex] = value;
$.extend(checkJSONInstObj.messages, parameterJSON);
});
}
var instForm = template.find("form");
instForm.validate(checkJSONInstObj);
}
function consoleLog(para)
{
if (typeof window.console == "undefined") {
window.console = {log: function() {}};
}
window.console.log( para );
}
function getInstIndexByPath(xml, OBJID, path)
{
var OBJ = $(xml).find(OBJID);
var instances = $("Instance", OBJ);
var instIndex = -1;
instances.each(function(i){
var inst = $(this);
inst.find("ParaName").each(function(){
var ParaName = $(this).text();
var ParaValue = $(this).next().text();
if ( ParaName.match(/^_InstID/) != null
&& ParaValue == path )
{
instIndex = i;
}
});
});
return instIndex;
}
function xmlParaInInstOperate(xml, OBJVal, InstIndex, ToOperParaArray)
{
var OBJ = $(OBJVal, $(xml));
var inst = $("Instance", OBJ).eq(InstIndex);
inst.find("ParaName").each(function(){
var ParaSelf = $(this);
var ParaValSelf = $(this).next();
var ParaName = ParaSelf.text();
var ParaValue = ParaValSelf.text();
for (var tmp in ToOperParaArray)
{
if( tmp == ParaName )
{
ToOperParaArray[tmp].ValueOrigin = ParaValue;
if (ToOperParaArray[tmp].setAction)
{
ToOperParaArray[tmp].setAction(ParaSelf, ParaValSelf, ParaValue);
}
}
}
});
}
function getParaValueInXML(xml, OBJID, InstIndex, paraNameIn)
{
var paraValueOut = "N/A";
var OBJ = $(xml).find(OBJID);
var instances = $("Instance", OBJ);
var inst = instances.eq(InstIndex);
inst.find("ParaName").each(function(){
var ParaName = $(this).text();
var ParaValue = $(this).next().text();
if ( ParaName == paraNameIn )
{
paraValueOut = ParaValue;
return false;
}
});
return paraValueOut;
}
function colorTblRow(tblClass, rowAttr, Head)
{
$(tblClass+" .colorTblRow", Head).each(function(){
var thisRow = $(this);
thisRow.removeClass("colorRow");
});
var shouldPainted = true;
if ( rowAttr == "even" )
{
shouldPainted = true;
}
else
{
shouldPainted = false;
}
var allRows = $(tblClass+" .colorTblRow", Head);
allRows.each(function(){
var thisRow = $(this);
if ( thisRow.css("display") != "none" )
{
if ( true == shouldPainted )
{
thisRow.addClass("colorRow");
shouldPainted = false;
}
else
{
shouldPainted = true;
}
}
});
}
function reformString(inStr, splitNum)
{
var strLen = inStr.length;
var outStr = "";
var arr = [];
var start = 0;
var end = 0;
if (strLen > 4)
{
var flag = strLen % splitNum;
if (flag != 0)
{
end = flag;
}
else
{
end = start + splitNum;
}
for (var i=0; end <= strLen; i++)
{
arr[i] = inStr.slice(start, end);
start = end;
end = start + splitNum;
}
for (var j = 0; j < arr.length; j++)
{
outStr = outStr + arr[j] + " ";
}
outStr = outStr.slice(0, (outStr.length-1));
}
if (outStr == "")
{
outStr = inStr;
}
return outStr;
}
function sec2HrMinSec(sec,IsDayShow)
{
if (sec == "")
{
consoleLog("[sec2HrMinSec]sec is empty, please check if it's ok?! ");
}
var s, m, h, day, ret;
s = parseInt(sec % 60);
m = parseInt(sec / 60, 10) % 60;
h = parseInt(sec / 3600, 10);
ret = h + " h " + m + " min " + s + " s";
if (IsDayShow == true)
{
day = parseInt(h /24, 10);
h = parseInt(h % 24, 10);
ret = day + " days " + h + " h " + m
+ " min " + s + " s";;
}
return ret;
}
jQuery.fn.collapsibleInstTitleChange = function(referenceID) {
var ContainerOBJ = $(this);
var NameValue = $("[id^='"+referenceID+":']",ContainerOBJ).attr("value");
var instNameObj = $(".collapsibleInst",ContainerOBJ);
instNameObj.text(NameValue);
instNameObj.attr("title", NameValue);
}
function initialCtrlAllLink(containerOBJ)
{
var AllObj = $(".AllOn, .AllOff",containerOBJ);
AllObj.unbind("click");
AllObj.click(function(event){
var AllCtlItme = $(this);
var Head = AllCtlItme.parents(".HeadDIV");
var Template = AllCtlItme.parents("[id^='template_']");
var needCheck = 1;
var EleSelectValue;
if ( AllCtlItme.hasClass("AllOn") )
{
needCheck = 1;
EleSelectValue = 1;
}
else if ( AllCtlItme.hasClass("AllOff") )
{
needCheck = 0;
EleSelectValue = 0;
}
else
{
}
if ( AllCtlItme.attr("EleSelectValue") )
{
EleSelectValue = AllCtlItme.attr("EleSelectValue");
}
$(":radio",Template).each(function(){
var RadioOBJ = $(this);
if ( RadioOBJ.attr("value") == EleSelectValue )
{
RadioOBJ.attr("checked", "checked");
}
else
{
RadioOBJ.removeAttr("checked");
}
});
$(":checkbox",Template).each(function(){
var CheckboxOBJ = $(this);
if ( needCheck == 1)
{
CheckboxOBJ.attr("checked", "true");
}
else
{
CheckboxOBJ.removeAttr("checked");
}
});
});
}
function ActionByApplyResult(xml, template, TitleValueReferID)
{
var isError = template.hasError(xml);
if (isError == 0)
{
succHintShow(template);
var _InstIDOBJ = $(xml).find("_InstID");
if (_InstIDOBJ.length > 0)
{
$("[id^='_InstID']",template).attr("value", _InstIDOBJ.text());
}
if ( TitleValueReferID != undefined )
{
template.collapsibleInstTitleChange(TitleValueReferID);
}
}
return isError;
}
function ActionByCancelResult(xml, template, OBJIDForFillData, TitleValueReferID)
{
var isError = template.hasError(xml);
if ( isError == 0 )
{
template.fillDataByOBJID(xml, OBJIDForFillData, template, 0);
if ( TitleValueReferID != undefined )
{
template.collapsibleInstTitleChange(TitleValueReferID);
}
}
else
{
$(".ChangeArea",template).showIt(true);
$(".collapsibleInst",template).addClass("instNameExp");
}
return isError;
}
function addInst(Head, InstNumOBJ)
{
var HeadID = Head.attr("id");
var templateOBJ = $("#template_"+HeadID);
var suffix = InstNumOBJ.attr("value");
var clone = templateOBJ.cloneWithSuffix(suffix);
templateOBJ.before(clone);
InstNumOBJ.attr("value",parseInt(suffix)+1);
clone.showIt(true);
$(".collapsibleInst",clone).addClass("instNameExp");
$(".ChangeArea",clone).showIt(true);
templateOBJ.trigger("ActionAfterClone",clone);
}
function IfCreateInstChk(Head, InstNumOBJ, AddInstLink)
{
var ExistInst = 0;
$("[id^='template_']",Head).each(function(){
if ($(this).css("display") == "block")
{
ExistInst = 1;
return false;
}
});
if ( ExistInst == 0
&& AddInstLink.length > 0 )
{
return true;
}
return false;
}
function collapBarAction(collapBar)
{
var Head = collapBar.parents(".HeadDIV");
var HeadID = Head.attr("id");
var containerMainID = HeadID + "_container";
var UnderControlContainer = $("#"+containerMainID, Head);
var template = collapBar.parents("[id^='template_']");
var selector = "[id^='"+ containerMainID +"']";
var containerInTemp = $(selector, template);
var containerLen = containerInTemp.length;
if ( containerLen > 0 )
{
UnderControlContainer = containerInTemp;
}
if ( UnderControlContainer.is(":visible") )
{
UnderControlContainer.showIt(false);
collapBar.removeClass("collapsibleBarExp");
}
else
{
UnderControlContainer.showIt(true);
collapBar.addClass("collapsibleBarExp");
}
var InstNumOBJ = $("#_InstNum",Head);
var AddInstLink = Head.find(".addInst");
if ( IfCreateInstChk(Head, InstNumOBJ, AddInstLink) )
{
addInst(Head, InstNumOBJ);
}
}
function initial_collapBarWithDataTrans(Head)
{
var UnderControlContainer = $("#"+ Head.attr("id") +"_container");
UnderControlContainer.hide();
$(".collapBarWithDataTrans",Head).click(function(event){
event.preventDefault();
var collapBar = $(this);
if ( $("#DataHasBeenGot",Head).val() == 0 )
{
showWaitTip(true);
setTimeout(function(){
var ServerAddr = $("address span", Head).text();
Head.dataTransfer(ServerAddr,
"GET",
Head.succfunction,
undefined,
undefined,
false
);
$("#DataHasBeenGot",Head).val(1);
collapBarAction(collapBar);
}, 2);
}
else
{
collapBarAction(collapBar);
}
});
}
function initial_CollapsibleBar()
{
$(".collapsibleBar").each(function(){
var HeadID = $(this).parents(".HeadDIV").attr("id");
var UnderControlContainer = $("#"+ HeadID +"_container");
UnderControlContainer.hide();
});
$(".collapsibleBar").each(function(){
var collapsibleBar = $(this);
collapsibleBar.click(function(event){
event.preventDefault();
var collapBar = $(this);
collapBarAction(collapBar);
});
});
}
function initial_addInstLink()
{
$(".addInst").each(function(event){
var addInstOBJ = $(this);
addInstOBJ.unbind("click");
addInstOBJ.click(function(event){
var Head = $(this).parents(".HeadDIV");
var InstNumOBJ = $("#_InstNum",Head);
addInst(Head, InstNumOBJ);
});
});
}
function initial_QueryAccessDeviceLink()
{
var linkSelector = "._LuQUID_SelAccessDevice";
var selDevLinks = $(linkSelector);
if ( selDevLinks.length == 0 )
{
return;
}
selDevLinks.each(function(){
var selDevLink = $(this);
selDevLink.css("display", "block");
var rowObj = selDevLink.parents(".row").eq(0);
rowObj.append("<div class='clear'></div>");
var macID = rowObj.find(".mac").eq(0).attr("id");
var inputID = rowObj.find(".selaccessdev").attr("id");
var paraID = "";
if (macID != undefined && macID != "")
{
var macIDStriped = colonStripping(macID);
paraID = macIDStriped.match(/^sub_(.+)\d$/)[1];
}
else if (inputID != undefined && inputID != "")
{
paraID = inputID;
}
else
{
}
var headID = selDevLink.parents(".HeadDIV").attr("id");
var suffix = ":"+paraID+":"+headID;
var devListHTML = ''
+ '<div class="_LuQUID_AccessDeviceList" name="_LuQUID_AccessDeviceInfo'+suffix+'" style="display:none;">'
+ '<input type="hidden" class="PostIgnore" id="_LuQUID_InstNum'+suffix+'" value="0">'
+ '<p id="_LuQUID_NoAccessDev'+suffix+'">Currently no associated devices.</p>'
+ '<p id="_LuQUID_template_AccessDeviceInfo'+suffix+'" style="display:none">'
+ '<label class="cfgLabel">&nbsp;</label>'
+ '<input type="hidden" class="PostIgnore" id="_LuQUID_HostName'+suffix+'" value="">'
+ '<input type="hidden" class="PostIgnore" id="_LuQUID_MACAddress'+suffix+'" value="">'
+ '<input type="radio" class="PostIgnore" id="_LuQUID_AccessDeviceRadio'+suffix+'" name="_LuQUID_AccessDeviceRadio'+suffix+'" value=""/>'
+ '<label for="_LuQUID_AccessDeviceRadio'+suffix+'">'
+ 'Host Name: [<span id="_LuQUID_StrHostName'+suffix+'">Unknown</span>]'
+ '-MAC Address: [<span id="_LuQUID_StrMACAddress'+suffix+'"></span>]'
+ '</label>'
+ '</p>'
+ '<a class="_LuQUID_HideAccessDevice">Hide</a>'
+ '</div>';
var macObj = rowObj.find(".right");
var devListObj = $(devListHTML).insertAfter(macObj);
var labelObj = rowObj.find(".cfgLabel");
var labelWidth = labelObj.css("width");
devListObj.css("margin-left", labelWidth);
});
var devRadios = $("input[name^='_LuQUID_AccessDeviceRadio']");
devRadios.click(function(event){
var devRadio = $(this);
var templateSelector = "[id^='_LuQUID_template_AccessDeviceInfo']";
var templateDev = devRadio.parents(templateSelector);
var devListObj = devRadio.parents("[name^='_LuQUID_AccessDeviceInfo']");
var rowObj = devRadio.parents(".row").eq(0);
var deviceRadioSelector = "input[name^='_LuQUID_AccessDeviceRadio']";
$(deviceRadioSelector, devListObj).removeAttr("checked");
devRadio.attr("checked", "checked");
var devMACObj = $("[id^='_LuQUID_MACAddress']", templateDev);
var macID = rowObj.find(".mac").eq(0).attr("id");
var inputID = rowObj.find(".selaccessdev").attr("id");
var paraID = "";
if (macID != undefined && macID != "")
{
var macIDStriped = colonStripping(macID);
var subID = macIDStriped.match(/^(sub_.+)\d$/)[1];
devMACObj.FillIPorMacDataBySplit(subID, ":", 6);
var lastSubMAC = rowObj.find(".mac").last();
lastSubMAC.focus().blur();
}
else if (inputID != undefined && inputID != "")
{
devMACObj.FillIPorMacDataToInput(inputID);
rowObj.find(".selaccessdev").blur();
}
else
{
}
});
var hideDevLinks = $("._LuQUID_HideAccessDevice");
hideDevLinks.unbind("click");
hideDevLinks.click(function(event){
event.preventDefault();
var devListObj = $(this).parents("[name^='_LuQUID_AccessDeviceInfo']");
devListObj.hide();
});
selDevLinks.unbind("click");
selDevLinks.click(function(event){
event.preventDefault();
var selDevLink = $(this);
var rowObj = selDevLink.parents(".row");
var devListObj = rowObj.find("[name^='_LuQUID_AccessDeviceInfo']");
if (devListObj.is(":visible"))
{
devListObj.hide();
return;
}
var InstNumBefore = $("[id^='_LuQUID_InstNum']", devListObj).val();
for ( var i=0; i<InstNumBefore; i++ )
{
var selector = "[id$='_"+i+"']"
+"[id^='_LuQUID_template_AccessDeviceInfo']";
$(selector, devListObj).remove();
}
devListObj.AccessDeviceXMLDealWith = function(xml){
devListObj.hasError(xml,"externErrorHint");
var ACCESSDEVRuleOBJ = $(xml).find("OBJ_ACCESSDEV_ID");
var RuleNum = $("Instance", ACCESSDEVRuleOBJ).length;
var OBJID = ["OBJ_ACCESSDEV_ID"];
var templateSelector = "[id^='_LuQUID_template_AccessDeviceInfo']";
var TemplateOBJ = $(templateSelector, devListObj);
$("[id^='_LuQUID_InstNum']", devListObj).val(RuleNum);
var NoAccessDevObj = $("[id^='_LuQUID_NoAccessDev']", devListObj);
if (RuleNum == 0 )
{
NoAccessDevObj.show();
}
else
{
NoAccessDevObj.hide();
}
for (var i=0; i<RuleNum; i++)
{
var clone = TemplateOBJ.cloneWithSuffix(i);
TemplateOBJ.before(clone);
clone.fillDataByOBJID(xml, OBJID, clone, i);
var HostNameStr = $("[id^='_LuQUID_HostName']", clone).val();
if (HostNameStr == "")
{
HostNameStr = "Unknown";
}
$("[id^='_LuQUID_StrHostName']", clone).text(HostNameStr);
var MACAddress = $("[id^='_LuQUID_MACAddress']", clone).val();
$("[id^='_LuQUID_StrMACAddress']", clone).text(MACAddress);
clone.show();
}
devListObj.show();
};
var accessMode = selDevLink.attr("_LuQUID_Access_Mode")
var AccessModeSet =
[
"ETH",
"WLAN",
"ALL"
];
if ( -1 == $.inArray(accessMode, AccessModeSet) )
{
var devTypeList = AccessModeSet.join("/")
consoleLog("_LuQUID_Access_Mode must be set as one of "+devTypeList);
return ;
}
var ServerAddr = "/common_page/Query_AccessDevice_lua.lua?";
ServerAddr += "DeveiceType="+accessMode;
showWaitTip(true);
devListObj.dataTransfer(ServerAddr,
"GET",
devListObj.AccessDeviceXMLDealWith,
undefined,
undefined,
false);
});
}
function DisableALLParams(template)
{
$(":radio", template).attr("disabled", "disabled");
$(":input[type='button']", template).addClass("disableBtn");
$(":input[type!='button'][type!='radio']", template).addClass("readonlyInputBg PostIgnore");
$(":input[type!='button'][type!='radio']", template).attr("readonly","readonly");
$(".selectLong",template).attr("disabled","disabled");
$(".selectNorm",template).attr("disabled","disabled");
}
function InitTimeOption(start,end,ele,step)
{
var realNum = (end - start)/step;
for(var i=0; i<realNum; i++)
{
var tmp = i*step+start;
var tmpText = tmp;
if ( tmp < 10 )
{
tmpText = '0'+tmpText;
}
ele.append("<option value='"+tmp+"'>"+ tmpText +"</option>");
}
}
function initial_TimeCtl()
{
var TimeCtl = $("._LuQUID_TimeCtl");
if ( TimeCtl.length <= 0 )
{
return;
}
var timeArr = {
"group_HourStart" : [0, 24],
"group_MinuteStart" : [0, 60],
"group_HourEnd" : [0, 24],
"group_MinuteEnd" : [0, 60]
};
for (var tmp in timeArr)
{
var timeEle = $("."+ tmp, TimeCtl);
var start = timeArr[tmp][0];
var end = timeArr[tmp][1];
InitTimeOption(start, end, timeEle, 1);
}
$("option[value='23']",$(".group_HourEnd",TimeCtl)).attr("selected",
"selected");
$("option[value='59']",$(".group_MinuteEnd",TimeCtl)).attr("selected",
"selected");
}
function PasswordDotDisplay(template, EnableValue)
{
if(EnableValue == "1")
{
$("input[type='password']", template).attr("value", "						");
}
else
{
$("input[type='password']", template).attr("value", "");
}
}
function DisableALLParams(template)
{
$(":radio", template).attr("disabled", "disabled");
$(":input[type='button']", template).addClass("disableBtn");
$(":input[type!='button'][type!='radio']", template).addClass("readonlyInputBg PostIgnore");
$(":input[type!='button'][type!='radio']", template).attr("readonly","readonly");
}
$(document).ready(function(){
initial_sceneTip();
initial_CollapsibleBar();
initial_addInstLink();
initial_QueryAccessDeviceLink();
initial_TimeCtl();
$(".HeadDIV").each(function(){
var Head = $(this);
var HeadID = Head.attr("id");
var template = $("#template_"+HeadID,Head);
var formOBJ = $("form",Head);
if ( ! formOBJ.attr("onsubmit") )
{
formOBJ.attr("onsubmit", "return false;");
}
var stopFormAutoSubmitStr = "<input type='text' id='_stopFormAutoSubmit'"
+" value='' class='PostIgnore'"
+" style='display:none;'>";
formOBJ.prepend(stopFormAutoSubmitStr);
initial_button("Apply", Head);
initial_button("Cancel", Head);
initial_button("Delete", Head);
initialCtrlAllLink(Head);
initial_special_password(Head);
var collapsibleInstObj = $(".collapsibleInst",template);
collapsibleInstObj.unbind("click");
collapsibleInstObj.click(function(event){
var collapsibleInst = $(this);
var template = collapsibleInst.parents("[id^='template_']");
var ChangeArea = $(".ChangeArea",template);
if ( ChangeArea.is(":hidden") )
{
ChangeArea.showIt(true);
collapsibleInst.addClass("instNameExp");
}
else
{
ChangeArea.showIt(false);
collapsibleInst.removeClass("instNameExp");
$(".Btn_cancel",ChangeArea).click();
}
});
$(".utf8Compatible", template).each(function(){
var thisObj = $(this);
var dTip = thisObj.text();
var dTipArr = dTip.split("");
var firstNum = "";
var secNum = "";
var firstNumStart = "";
var firstNumEnd = "";
var secNumStart = "";
var secNumEnd = "";
var Nums = 0;
var newTip = "";
dTipArr = $.grep(dTipArr, function(n,i){
return n != " ";
});
dTip = dTipArr.join("");
for(var i=0; i<dTipArr.length; i++)
{
if (Nums > 2)
{
thisObj.remove();
break;
}
if (isNaN(dTipArr[i]) == false)
{
if (firstNumStart == "")
{
firstNumStart = i;
firstNumEnd = parseInt(i)+1;
Nums += 1;
}
else
{
if (secNumStart == "")
{
if (firstNumEnd == i)
{
firstNumEnd = parseInt(i)+1;
}
else
{
secNumStart = i;
secNumEnd = parseInt(i)+1;
Nums += 1;
}
}
else
{
if (secNumEnd == i)
{
secNumEnd = parseInt(i)+1;
}
else
{
Nums = 3;
}
}
}
}
}
if (firstNumStart != "" && secNumStart != "")
{
firstNum = dTip.slice(firstNumStart, firstNumEnd);
secNum = dTip.slice(secNumStart, secNumEnd);
newTip = dTip.slice(0, firstNumStart)+" ";
if (parseInt(secNum) < 3)
{
var prevObjId = thisObj.prev().attr("id");
alert("Element[id='"+prevObjId+"']'s length range ["+ firstNum+","+secNum+"] will be invalid after utf-8 transforming!");
}
else
{
firstNum = Math.ceil(parseInt(firstNum) / 3);
secNum = Math.floor(parseInt(secNum) / 3);
if (firstNum < secNum)
{
firstNum=reformString(firstNum.toString(), 3);
secNum=reformString(secNum.toString(), 3);
newTip += firstNum + " ~ " + secNum;;
}
else if (firstNum == secNum)
{
secNum=reformString(secNum.toString(), 3);
newTip += secNum;
}
else
{
var prevObjId = thisObj.prev().attr("id");
alert("Element[id='"+prevObjId+"']'s length range ["+firstNum+","+secNum+"] is invalid after utf-8 transforming!");
}
}
}
else
{
thisObj.remove();
}
if (newTip != "")
{
thisObj.text(newTip);
}
});
$("input[type='text'],input[type='password']", template).focus(function(){
var thisObj = $(this);
var msg = thisObj.next("span").text();
if (msg != "")
{
var pos = thisObj.offset();
var objWidth = thisObj.width();
var dhtml = "<div id='dynamicTip'><div id='dTip_l'></div>"
+ "<div id='dTip_m'>"
+ msg
+ "</div><div id='dTip_r'></div></div>";
var dtObj = $(dhtml).css({top:(pos.top-33)+'px',left:(pos.left+objWidth+8)+'px'});
dtObj.appendTo('body').fadeIn(400);
thisObj.blur(function(){
dtObj.fadeOut(100, function(){$(this).remove()});
});
}
});
$("input[class='ip'],input[class='mac']", template).each(function(){
var InputOBJ = $(this);
InputOBJ.unbind("keydown");
InputOBJ.unbind("keyup");
InputOBJ.keydown(function(event){
autoJumpBack(this,this.value,event);
});
InputOBJ.keyup(function(event){
FocusAutoJump(this,this.value,event);
});
});
$(".instSwitch input",template).each(function(){
var InputOBJ = $(this);
if (InputOBJ.attr("type") == "radio")
{
InputOBJ.unbind("change");
InputOBJ.change(function(event){
var template = $(this).parents("[id^='template_']");
var ChangeArea = $(".ChangeArea",template);
var _InstIDValue = template.find("[id^='_InstID']").attr("value");
if ( ChangeArea.is(":hidden")
&& _InstIDValue != "-1" )
{
var ServerAddr = template.parents(".HeadDIV").find("address span").text();
var instSwitchName = colonStripping(InputOBJ.attr("name"));
var instSwitchValue = InputOBJ.attr("value");
var PostData = "IF_ACTION=Apply"+"&"
+ instSwitchName+"="+instSwitchValue+"&"
+ "_InstID=" + _InstIDValue;
var actionType = "InstSwitch";
var PostSuccHandler = "fillDataByInstSwitchResult";
dataPost(actionType, PostSuccHandler, ServerAddr, template, PostData);
}
});
}
});
template.unbind("fillDataByInstSwitchResult");
template.bind("fillDataByInstSwitchResult", function(event,xml, template){
if ( template.hasError(xml) == 0 )
{
return;
}
$(".ChangeArea",template).showIt(true);
$(".collapsibleInst",template).addClass("instNameExp");
});
template.unbind("fillDataByDeleteResult");
template.bind("fillDataByDeleteResult", function(event,xml, template){
if ( template.hasError(xml) == 0 )
{
template.remove();
}
else
{
$(".ChangeArea",template).showIt(true);
}
});
});
});
function getPwdLevel(val, relVal)
{
if (val.length < 6)
{
return false;
}
if ( !(/[0-9]+/).test(val) ||
!(/[a-zA-Z]+/).test(val) ||
!(/[!"#$%&'()*+,-./:;<=>?@\[\\\]^_`{|}~]+/).test(val) )
{
return false;
}
if (val == relVal || val == relVal.split("").reverse().join(""))
{
return false;
}
return true;
}
function SetCookie(name,value)
{
var Days = 30;
var exp = new Date();
exp.setTime(exp.getTime() + Days*24*60*60*1000);
document.cookie = name + "="+ escape (value)
+ ";expires=" + exp.toGMTString();
}
function getCookie(name)
{
var arr = document.cookie.match(new RegExp("(^| )"+name+"=([^;]*)(;|$)"));
if(arr != null)
{
return unescape(arr[2]);
}
return null;
}
function delCookie(name)
{
var exp = new Date();
exp.setTime(exp.getTime() - 1);
var cval = getCookie(name);
if( cval!=null )
{
document.cookie= name + "="+cval+";expires="+exp.toGMTString();
}
}
function IsBrowserSupportCookie()
{
var support = false;
SetCookie('cookie_test','1');
var cookie_test = getCookie('cookie_test');
if( '1' == cookie_test)
{
support = true;
}
delCookie('cookie_test');
return support;
}
(function ($) {
var o = $({});
$.subscribe = function () {
o.on.apply(o, arguments);
};
$.unsubscribe = function () {
o.off.apply(o, arguments);
};
$.publish = function () {
o.trigger.apply(o, arguments);
};
} (jQuery));
</script>
<script type="text/javascript">
function fix_dsl_stats_simple(obj, id, objv, unit, devide)
{
var value;
if(devide)
{
value = objv.attr("value")/10 + unit;
}
else
{
value = objv.attr("value") + unit;
}
var destObj = $('#' + id, obj);
destObj.text(value);
destObj.attr("title", value);
}
function fix_dsl_stats_complex(obj, id, objsrc, objdest, unit, devide)
{
var value;
if(devide)
{
value = objsrc.attr("value")/10 + "/" + objdest.attr("value")/10 + unit;
}
else
{
value = objsrc.attr("value") + "/" + objdest.attr("value") + unit;
}
var destObj = $('#' + id , obj);
destObj.text(value);
destObj.attr("title", value);
}
function customize_dsl_stats_infor(template)
{
var objtemp = $('#Prefix_sub_Status', template);
var objtempv = $('#Status', template);
var stat = "Upstream Noise Margin";
var value = "Down";
if(objtempv.attr("value") == "Up" )
{
value = "Up";
}
else
{
value = "Down"
}
var ledvalue = $('#LEDStatus', template).attr("value");
var values;
var stat = "No Link/Down";
var values = {
"Up/Up": "Up/Up",
"Up/Down": "Up/Down",
"Down/Up": "No Link/Up",
"Down/Down": "No Link/Down"
};
var StatusValue = value + "/" + ledvalue;
stat = values[StatusValue];
var staObj = $('#cStatus', objtemp);
staObj.text(stat);
staObj.attr("title", stat);
objtemp = $('#Prefix_sub_Module_type', template);
objtempv = $('#Module_type', template);
fix_dsl_stats_simple(objtemp, "CModule_type",objtempv, "", false);
objtemp = $('#Prefix_sub_Downrate', template);
objtempv = $('#Downstream_current_rate', template);
fix_dsl_stats_simple(objtemp, "CDownstream_current_rate", objtempv, " kbps", false);
objtemp = $('#Prefix_sub_Uprate', template);
objtempv = $('#Upstream_current_rate', template);
fix_dsl_stats_simple(objtemp, "CUpstream_current_rate", objtempv, " kbps", false);
objtemp = $('#Prefix_sub_margin', template);
objtempsrc = $('#Downstream_noise_margin', template);
objtempdest = $('#Upstream_noise_margin', template);
fix_dsl_stats_complex(objtemp, "stream_noise_margin",objtempsrc, objtempdest, " dB", true);
objtemp = $('#Prefix_sub_attenuation', template);
objtempsrc = $('#Downstream_attenuation', template);
objtempdest = $('#Upstream_attenuation', template);
fix_dsl_stats_complex(objtemp, "stream_attenuation",objtempsrc, objtempdest, " dB", true);
objtemp = $('#Prefix_sub_crc', template);
objtempsrc = $('#DownCrc_errors', template);
objtempdest = $('#UpCrc_errors', template);
fix_dsl_stats_complex(objtemp, "Crc_errors", objtempsrc, objtempdest, "", false);
objtemp = $('#Prefix_sub_fec', template);
objtempsrc = $('#Atuc_fec_errors', template);
objtempdest = $('#Fec_errors', template);
fix_dsl_stats_complex(objtemp, "CFec_errors", objtempsrc, objtempdest, "", false);
}
$(document).ready(function(){
var RegStatusHeadID = "ManagStatus";
var RegStatusHead = $("#"+RegStatusHeadID);
var ServerAddr = $("address span", RegStatusHead).text();
RegStatusHead.chanegeDataByCustom =function(xml){
colorTblRow(".colorTbl", "even", RegStatusHead);
};
RegStatusHead.succfunction = function(xml){
var cmapiErrorContainer = $(".errorHint",RegStatusHead);
if (cmapiErrorContainer.hasError(xml) == 0)
{
RegStatusHead.chanegeDataByCustom(xml);
var InternetSipLineOBJ = $(xml).find("OBJ_DSLINTERFACE_ID");
var RegStatusRuleNum = $("Instance", InternetSipLineOBJ).length;
var OBJID = ["OBJ_DSLINTERFACE_ID", "OBJ_DEVINFO_ID","OBJ_LEDSTATUS_ID"];
RegStatusHead.fillDataByOBJID(xml, OBJID, $("#ManagStatus_container"), 0);
var template = $("#ManagStatus_container");
customize_dsl_stats_infor(template);
}
};
RegStatusHead.dataTransfer(ServerAddr,
"GET",
RegStatusHead.succfunction, undefined,false);
});
</script>

<style type="text/css">
#loginWrapper {
width: 473px;
min-height: 365px;
height:auto !important;
height: 425px;
margin: 20px auto;
position: relative;
}
.loginTitle {
width: 100%;
height: 72px;
line-height: 72px;
padding-left: 40px !important;
padding-left: 70px;
background: url(../img/login_title.gif) no-repeat;
}
.sceneTipWrap {
padding: 0 10px;
}
.loginContainer {
background: url(../img/login_bg.gif) repeat-y;
height: auto;
overflow: hidden;
padding: 10px;
}
#loginBtn {
width: 100%;
height: 40px;
background: url(../img/login_footer.gif) no-repeat;
}
.login {
float: right;
margin: 5px 30px 0 0;
}
.loginInstCfgArea {
margin: 0;
padding: 15px 0 30px 0;
text-align: left;
}

</style>
<div id="loginWrapper">
<div class="emFont loginTitle">Welcome to &#83;&#112;&#101;&#101;&#100;&#112;&#111;&#114;&#116;&#32;&#69;&#110;&#116;&#114;&#121;&#32;&#50;&#105;. Please login. </div>
<div id="loginContainer" class="loginContainer">
<div class="sceneTipWrap">
<div class="sceneTip">
<div class="sceneTipLink"><a>Where the device password is located? </a></div>
<div class="sceneTip_container" style="display:none;">
<p>
<span>You can find the password on the label that is located underneath the device. </span><br/>
<img src="img/help_pwd.gif" alt="where to find password"/>
</p>
<p class="sceneTip_close"><a>Close</a></p>
</div>
</div>
<div class="sceneTip">
<div class="sceneTipLink"><a>Did you forget your device password? </a></div>
<div class="sceneTip_container" style="display:none;">
<p>
<span>If you press the Reset button for more than 2 seconds, the device will restore to its default values.</span><br/>
<span>Note: After this operation, all of your settings will be lost and restored to the factory defaults. </span><br/>
<span>Method of operation: While the device is powered-on, you can press the Reset button with a sharp object for more than 2 secs. After the release, wait for the device to power on (it will restart automatically). When this is finished, please use the default password to login. </span>
</p>
<p class="sceneTip_close"><a>Close</a></p>
</div>
</div>
<div class="sceneTip">
<div class="sceneTipLink"><a>Status information</a></div>
<div class="sceneTip_container" style="display:none;">
<script type="text/javascript">
String.prototype.format = function(args) {
var result = this;
if (arguments.length > 0)
{
for (var i = 0; i < arguments.length; i++)
{
if (arguments[i] != undefined) {
var reg = new RegExp("({[" + i + "]})", "g");
result = result.replace(reg, arguments[i]);
}
}
}
return result;
}
function showOrHideRowDiv(action, RowDiv)
{
var subWidget = RowDiv.find("*[id!='']")
if ( action == "show" )
{
RowDiv.showIt(true);
subWidget.removeClass("PostIgnore");
}
else
{
RowDiv.showIt(false);
subWidget.addClass("PostIgnore");
}
}
function colonStripping(str)
{
var colonLocation = str.indexOf(":");
if ( colonLocation != -1 )
{
return str.substring(0, colonLocation);
}
return str;
}
jQuery.fn.showIt = function(show) {
if (show)
{
$(this).css("display", "");
}
else
{
$(this).css("display", "none");
}
}
jQuery.fn.cloneWithSuffix = function(suffix, splitter) {
var source = $(this);
var clone = source.clone(true);
clone.attr("id", clone.attr("id")+"_"+suffix);
if ( undefined == splitter )
{
splitter = ":";
}
var idElems = clone.find("*[id!='']");
idElems.each(function(){
var idEle = $(this);
var oldID = idEle.attr("id");
if (oldID != undefined)
{
var newID = oldID + splitter + suffix;
idEle.attr("id", newID);
}
var oldName = idEle.attr("name");
if (oldName != undefined)
{
var newName = oldName + splitter + suffix;
idEle.attr("name", newName);
}
});
labelForElems = clone.find("label");
labelForElems.each(function(){
var labelForEle = $(this);
var oldFor = labelForEle.attr("for");
if (oldFor != undefined)
{
var newFor = oldFor + splitter + suffix;
labelForEle.attr("for", newFor);
}
});
clone.trigger("applyPromptCheckJSON", [clone]);
return clone;
}
function initial_sceneTip()
{
$(".sceneTip_container").each(function(){
$(this).hide();
});
$(".sceneTipLink").each(function(){
var sceneTipLinkContent = $(this).children();
sceneTipLinkContent.unbind( "click" );
sceneTipLinkContent.click(function(event){
event.preventDefault();
$(this).parent().next().slideToggle("normal");
});
});
$(".sceneTip_close").each(function(){
var sceneTip_closeLink = $(this).children();
sceneTip_closeLink.unbind( "click" );
sceneTip_closeLink.click(function(){
$(this).parent().parent().slideUp("normal");
});
});
}
function succHintShow(template)
{
var PostFeedbackOBJ = $(".succHint",template);
PostFeedbackOBJ.fadeIn(1000);
window.setTimeout(
function() {
PostFeedbackOBJ.fadeOut(1000);
PostFeedbackOBJ.hide();
},
2000
);
}
jQuery.fn.dataTransfer = function(URL, transferType, success_func, error_func, IfShowWaitTip, async, dataType){
if ( !URL || URL == "" )
{
consoleLog("[dataTransfer]URL is illegal!");
return;
}
var IfShowWaitTipTmp = IfShowWaitTip;
if ( IfShowWaitTipTmp == undefined )
{
IfShowWaitTipTmp = true;
}
var asyncTemp = async;
if ( asyncTemp == undefined )
{
asyncTemp = true;
}
if ( !dataType )
{
var dataType = "xml";
}
if ( IfShowWaitTipTmp == true )
{
showWaitTip(true);
}
var Head = $(this);
$.ajax({
url:URL,
type: transferType,
dataType: dataType,
timeout: 30000,
async: asyncTemp,
cache:false,
error: function(){
if ($.isFunction(error_func))
{
error_func();
}
else
{
if (Head != undefined)
{
var ajaxTransferFailHint = "The server is not available now. Please refresh page to reload. ";
var externErrorHint = $(".externErrorHint",Head);
if ( externErrorHint != undefined )
{
$("span",externErrorHint).text(ajaxTransferFailHint);
externErrorHint.showIt(true);
}
}
showWaitTip(false);
}
},
success: function(xml){
success_func(xml);
if ( IfShowWaitTipTmp == true )
{
showWaitTip(false);
}
}
});
}
function HTMLEnCode(str)
{
var s = "";
if (typeof(str) != "string")
{
return str;
}
if(str.length == 0)
{
return "";
}
s = str.replace(/&/g, "&#38;");
s = s.replace(/</g, "&#60;");
s = s.replace(/>/g, "&#62;");
s = s.replace(/ /g, "&#32;");
s = s.replace(/\'/g, "&#39;");
s = s.replace(/\"/g, "&#34;");
return s;
}
function addSlash(srcStr)
{
var str = "";
var ch = "";
if (typeof(srcStr) != "string")
{
return srcStr;
}
for(var i = 0; i < srcStr.length; i++)
{
ch = srcStr.substr(i, 1);
if( "\\" == ch )
{
ch = "\\\\";
}
else if( "\'" == ch )
{
ch = "\\\'";
}
else if( "\"" == ch )
{
ch = "\\\"";
}
str = str + ch;
}
return str;
}
function SetSelectValue(SelectElem, data)
{
$("option[class='_optExpHandle']", SelectElem).remove();
var findOption = 0;
$("option", SelectElem).removeAttr("selected");
$("option", SelectElem).each(function(){
var OptionObj = $(this);
if ( OptionObj.val() == data )
{
findOption = 1
OptionObj.attr("selected","selected");
return false;
}
});
if ( findOption == 0 )
{
SelectElem.append("<option value='"+ HTMLEnCode(data)
+ "' title='--Unknown--' class='_optExpHandle'>"
+ "--Unknown--" + "</option>");
$("option[value='"+addSlash(data)+"']",SelectElem).attr("selected","selected");
}
}
jQuery.fn.fillDataByType = function(data){
var Elems = $(this);
if (Elems.is("input"))
{
switch (Elems.attr("type"))
{
case "hidden":
{
Elems.attr("value", data);
if (Elems.attr("_LuQUID_splitMACID") != undefined)
{
var splitMACID = Elems.attr("_LuQUID_splitMACID");
Elems.FillIPorMacDataBySplit(splitMACID, ":", 6);
}
else if (Elems.attr("_LuQUID_splitIPID") != undefined)
{
var splitIPID = Elems.attr("_LuQUID_splitIPID");
Elems.FillIPorMacDataBySplit(splitIPID, ".", 4);
}
break;
}
case "text":
case "password":
{
Elems.attr("value", data);
if (typeof(Elems.attr("title")) != "undefined")
{
Elems.attr("title", data);
}
break;
}
case "checkbox":
{
if( 1 == data )
{
Elems.attr("checked", true);
}
else
{
Elems.attr("checked", false);
}
Elems.attr("value",data);
break;
}
default:
{
break;
}
}
}
else if (Elems.is("span"))
{
Elems.text(data);
if (typeof(Elems.attr("title")) != "undefined")
{
Elems.attr("title", data);
}
}
else if (Elems.is("a"))
{
Elems.text(data);
Elems.attr("href",data);
}
else if (Elems.is("select"))
{
SetSelectValue(Elems, data);
}
else if (Elems.is("textarea"))
{
Elems.attr("value", data);
}
else if (Elems.is("label"))
{
Elems.text(data);
}
else if (Elems.is("div"))
{
var radioObj = $("input[type=radio]", Elems);
radioObj.each(function(){
var thisObj = $(this);
if (thisObj.attr("value") == data)
{
thisObj.attr("checked", "checked");
}
else
{
thisObj.removeAttr("checked");
}
});
}
else
{
}
}
jQuery.fn.fillDataByOBJID = function(xml, OBJIDs, Clone, suffix, splitter){
if ( undefined == splitter )
{
splitter = ":";
}
for (var i=0; i<OBJIDs.length; i++)
{
var OBJID = OBJIDs[i];
var OBJIDSplit = OBJID.split(":");
var OBJIDIndex = 0;
var isSplitterExist = 0;
if ( OBJIDSplit.length == 2 )
{
OBJID = OBJIDSplit[0];
OBJIDIndex = parseInt(OBJIDSplit[1]);
isSplitterExist = 1;
}
var OBJs = $(xml).find(OBJID);
if ( OBJs.length == 0 )
{
continue;
}
var OBJ;
if ( OBJIDIndex < OBJs.length )
{
OBJ = OBJs.get(OBJIDIndex);
}
else
{
continue;
}
var instances;
if ( 1 == isSplitterExist )
{
instances = $("Instance", OBJ);
}
else
{
instances = $("Instance", OBJs);
}
if ( instances.length <= suffix
|| suffix < 0 )
{
consoleLog("suffix off normal upper!!");
continue;
}
var InstOBJ = instances.eq(suffix);
InstOBJ.find("ParaName").each(function(){
var ParaName = $(this).text();
var ParaValue = $(this).next().text();
var Elems = $("[id^='"+ParaName+splitter+"']", Clone);
if ( Elems.length == 0 )
{
Elems = $("#"+ParaName, Clone);
}
if ( Elems.length > 0 )
{
if ( Elems.length > 1 )
{
consoleLog("this ele id is duplicate[" +Elems.attr("id")+ "]");
}
Elems.fillDataByType(ParaValue);
}
else
{
if ( "_InstID" != ParaName )
{
consoleLog("XML ParaName("+ParaName+") cannot map to HTML "
+ "by fillDataByType, so it may be useless, "
+ "web security require deleting it!");
}
}
});
}
if (typeof(pro_CommonPage) !="undefined" && $.isFunction(pro_CommonPage))
{
var FunArray = pro_CommonPage(Clone);
for (var i=0; i < FunArray.length; i++)
{
if ($.isFunction(FunArray[i][0]))
{
var idobj = FunArray[i][1];
FunArray[i][0](idobj);
}
}
}
$(".SpecialPassword", Clone).each(function(i){
$(this).attr("value", "						");
});
}
jQuery.fn.createPageDataByClone = function(RuleNum,DataOBJID,xml,fillDataByCustom){
var Head = $(this);
var HeadID = Head.attr("id");
var TemplateOBJ = $("#template_"+HeadID , Head);
$("#_InstNum", Head).attr("value",RuleNum);
for (var i=0; i<RuleNum; i++)
{
var clone = TemplateOBJ.cloneWithSuffix(i);
TemplateOBJ.before(clone);
clone.fillDataByOBJID(xml ,DataOBJID, clone, i);
if ( $.isFunction(fillDataByCustom) )
{
fillDataByCustom(i,clone);
}
else
{
clone.trigger("fillDataByCustom",[i,clone]);
}
clone.showIt(true);
}
}
jQuery.fn.hasError = function(xml, errobj, container){
var ContentContainer = $("#"+container);
var cmapiErrorContainer;
var errStr = $("IF_ERRORSTR", $(xml));
var errParam = $("IF_ERRORPARAM", $(xml));
if (errStr.length <= 0 || errParam.length <= 0)
{
consoleLog("[hasError:]cannot find IF_ERRORSTR or IF_ERRORPARAM");
return;
}
if(!container)
{
ContentContainer = $(this);
}
if (!errobj)
{
errobj = "errorHint";
}
if (errobj == "externErrorHint")
{
cmapiErrorContainer = $(".externErrorHint",ContentContainer);
}
else
{
cmapiErrorContainer = $("."+errobj,ContentContainer);
}
var ErrorString = $("IF_ERRORSTR", $(xml)).text();
var ErrorParam = $("IF_ERRORPARAM", $(xml)).text();
if ( ErrorString == "SUCC" )
{
cmapiErrorContainer.showIt(false);
return 0;
}
else if ( ErrorString == "SessionTimeout" )
{
window.location.href = "/";
return 1;
}
else
{
var cmapiErrorContainerHtml = "";
var paraString = "";
if ( ErrorParam != "SUCC")
{
var LabelFindResult = 0;
ErrorString = "Current operation is invalid, please check whether {0} is legal. "
var paraLabel = ContentContainer.find("label[for^='"+ErrorParam+"\\:']");
if ( paraLabel.length <= 0 )
{
paraLabel = ContentContainer.find("label[for='"+ErrorParam+"']");
}
if ( paraLabel.length > 0 )
{
paraLabel.each(function(){
var labelTmp = $(this);
if ( !labelTmp.hasClass("error"))
{
paraString = labelTmp.text();
LabelFindResult = 1;
return false;
}
});
}
if ( LabelFindResult == 0 )
{
ErrorString = "Current operation is invalid, please check configuration parameters. ";
}
cmapiErrorContainerHtml = ErrorString.format(paraString);
}
else
{
if ( "FAIL" == ErrorString
|| "Current operation is invalid, please check whether {0} is legal. " == ErrorString )
{
ErrorString = "Current operation is invalid, please check configuration parameters. ";
}
cmapiErrorContainerHtml = ErrorString;
}
$("span",cmapiErrorContainer).html(cmapiErrorContainerHtml);
cmapiErrorContainer.showIt(true);
return 1;
}
}
jQuery.fn.ShouldPostIgnore = function(){
if($(this).hasClass("PostIgnore"))
{
return true;
}
return false;
}
jQuery.fn.InitialPostData = function(actionType){
var AND = "&";
var template = $(this);
var PostData = "IF_ACTION=" + actionType;
var formInputContent = template.find("input,select");
formInputContent.each(function(key){
var Elems = $(this);
if ( Elems.ShouldPostIgnore() )
{
return true;
}
var ElemsID = Elems.attr("id");
if ( Elems.attr("type") == "radio" )
{
if ( Elems.is(':checked') )
{
ElemsID = Elems.attr("name");
}
else
{
return true;
}
}
var ElemsMainID = colonStripping(ElemsID);
var ElemsValue = "";
if ( Elems.is("input") )
{
switch (Elems.attr("type"))
{
case "hidden":
{
if (Elems.attr("_LuQUID_splitMACID") != undefined)
{
var splitMACID = Elems.attr("_LuQUID_splitMACID");
Elems.FillIPorMacDataCombination(splitMACID, ":", 6);
}
else if (Elems.attr("_LuQUID_splitIPID") != undefined)
{
var splitIPID = Elems.attr("_LuQUID_splitIPID");
Elems.FillIPorMacDataCombination(splitIPID, ".", 4);
}
ElemsValue = Elems.attr("value");
break;
}
case "text":
case "password":
case "radio":
{
ElemsValue = Elems.attr("value");
break;
}
case "checkbox":
{
if( Elems.attr('checked')=="checked"
|| Elems.attr('checked')==true )
{
ElemsValue = 1;
}
else
{
ElemsValue = 0;
}
break;
}
default:
{
break;
}
}
}
else if ( Elems.is("select") )
{
ElemsValue = Elems.val();
}
else
{
consoleLog("when create post data, find not support elements type!!");
}
var NameValueJson = {
"ElemsMainID": ElemsMainID,
"ElemsValue": ElemsValue
};
template.trigger("PostDataChangeByCustom",[NameValueJson,template]);
var RealElemsValue = encodeURIComponent(NameValueJson.ElemsValue);
PostData += AND + ElemsMainID + "=" + RealElemsValue;
});
return PostData;
}
function RefreshClickHandle(Head)
{
$(".Btn_refresh", Head).each(function(){
$(this).unbind("click");
$(this).bind("click", function(){
var buttonOBJ = $(this);
if (buttonOBJ.hasClass("disableBtn")
||buttonOBJ.hasClass("disableLongBtn"))
{
return;
}
var HeadID = Head.attr("id");
Head.find("[id^='template_"+HeadID+"_']").each(function(){
$(this).remove();
});
var ServerAddr = $("address span", Head).text();
Head.dataTransfer(ServerAddr,
"GET",
Head.succfunction,
Head.failfunction,
undefined,
true);
});
})
}
function initial_special_password(Head)
{
$(".SpecialPassword", Head).each(function(){
$(this).mouseup( function(){
if(this.focused){
this.focused=false;
return false;
}
});
});
$(".SpecialPassword", Head).each(function(){
$(this).focus( function(){
this.select();
this.focused=true;
});
});
}
function initial_button(buttonType, Head, IfShowWaitTip)
{
if ( !Head )
{
consoleLog("incoming para:Head is not defined!");
return;
}
var buttonClass = "";
var eventHandler = "";
if ( buttonType == "Apply" )
{
buttonClass = "Btn_apply";
eventHandler = "fillDataByApplyResult";
}
else if ( buttonType == "Cancel" )
{
buttonClass = "Btn_cancel";
eventHandler = "fillDataByCancelResult";
}
else if ( buttonType == "Delete" )
{
buttonClass = "Btn_delete";
eventHandler = "fillDataByDeleteResult";
}
else
{
}
$("."+buttonClass, Head).each(function(){
$(this).unbind("click");
$(this).bind("click",function(event){
var buttonOBJ = $(this);
if (buttonOBJ.hasClass("disableBtn")
||buttonOBJ.hasClass("disableLongBtn"))
{
return;
}
var Head = buttonOBJ.parents(".HeadDIV");
var template = buttonOBJ.parents("[id^='template']");
var ActionBeforePostResult = {result: "Process"};
template.trigger("ActionBeforePostByCustom",[template,ActionBeforePostResult]);
if (ActionBeforePostResult.result != "Process")
{
return;
}
var ThisInstID = $("[id^='_InstID']",template).attr("value");
if ( ThisInstID == -1
&& (buttonType == "Cancel" || buttonType == "Delete") )
{
template.remove();
return;
}
var ServerAddr = $("address span", Head).text();
var IfShowWaitTipTmp = IfShowWaitTip;
if ( IfShowWaitTipTmp == undefined )
{
IfShowWaitTipTmp = true;
}
if ( buttonType == "Apply" )
{
var formOBJ = $(".form_content", template);
if ( formOBJ.length > 0 && false == formOBJ.valid() )
{
return;
}
else
{
var formObj = $(".form_content", template);
var txtInputObjs = $("input[type='text']", formObj);
txtInputObjs.each(function(){
var obj = $(this);
var rules = obj.rules();
if (rules.integer)
{
var intStr = obj.val();
var sign, digits;
if ( intStr.charAt(0) == '-' )
{
sign = "-";
digits = intStr.substring(1);
}
else
{
sign = "";
digits = intStr;
}
while(digits.charAt(0) == '0' && digits.length > 1)
{
digits = digits.substring(1);
}
intStr = sign + digits;
obj.val(intStr);
}
});
var passObj = $(".passRules",template);
for(var i=0;i<passObj.length;i++)
{
if(passObj.eq(i).is(":visible"))
{
var passVal = passObj.eq(i).val();
if(passVal != "						" &&(!(getPwdLevel(passVal,""))))
{
var msg = "Current password is weak,a strong password should contain characters,digits and special symbols. Are you sure to continue？";
var confirmLayerOBJ = IniConfirm(msg);
$("#confirmOK",confirmLayerOBJ).bind("click", function(event){
dataPost(buttonType, eventHandler, ServerAddr, template, undefined, IfShowWaitTipTmp);
});
return;
}
}
}
}
var IPMACCheckResult = {result: "checkOK"};
template.trigger("wholeIPorMACCheck",[template,IPMACCheckResult]);
if (IPMACCheckResult.result != "checkOK")
{
return;
}
}
dataPost(buttonType, eventHandler, ServerAddr, template, undefined, IfShowWaitTipTmp);
});
});
}
function dataPost(actionType, PostSuccHandler, ServerAddr, template, PostData, IfShowWaitTip, asyncFlag)
{
var IfShowWaitTipTmp = IfShowWaitTip;
if ( IfShowWaitTipTmp == undefined )
{
IfShowWaitTipTmp = true;
}
if (asyncFlag == undefined)
{
asyncFlag = true;
}
var PostDataTmp = "";
if (PostData == undefined)
{
template.trigger("hiddenValueChangeByCustom",[template, actionType]);
PostDataTmp = template.InitialPostData(actionType);
}
else
{
PostDataTmp = PostData;
}
PostDataTmp += "&_sessionTOKEN="+_sessionTmpToken;
if ( IfShowWaitTipTmp == true )
{
showWaitTip(true);
}
$.ajax({
url:ServerAddr,
type: 'POST',
data: PostDataTmp,
dataType: 'xml',
async: asyncFlag,
timeout: 30000,
cache:false,
error: function(){
var ajaxPostFailHint = "The server is not available now. Please refresh page to reload. ";
var errorContainer = $(".errorHint",template);
var changeArea = $(".ChangeArea",template);
var collapsibleInst = $(".collapsibleInst",template);
if ( errorContainer != undefined )
{
$("span", errorContainer).text(ajaxPostFailHint);
errorContainer.showIt(true);
if ( changeArea != undefined )
{
changeArea.showIt(true);
}
if ( collapsibleInst != undefined )
{
collapsibleInst.addClass("instNameExp");
}
template.showIt(true);
}
showWaitTip(false);
},
success: function(xml){
template.trigger(PostSuccHandler,[xml,template]);
if (template.hasError(xml,"_noExist") == 0)
{
$(".SpecialPassword", template).each(function(i)
{
var IsEnableControl = template.find(".PasswordEnable");
var IsResetControl = template.find(".IsResetClass");
if (IsEnableControl.length > 0)
{
var EnableRadio = $("input[class='PasswordEnable']:checked", template).val();
if (IsResetControl.length > 0)
{
var ResetValue = $("input[class='IsResetClass']", template).val();
if(ResetValue == "1")
{
$(this).attr("value", "");
}
else
{
PasswordDotDisplay(template, EnableRadio);
}
}
else
{
PasswordDotDisplay(template, EnableRadio);
}
}
else
{
$(this).attr("value", "						");
}
});
}
var formObj = $(".form_content", template);
var errObjs = $(".errorLabelWraper > .error", formObj);
errObjs.attr("style", "display:none");
if ( IfShowWaitTipTmp == true )
{
showWaitTip(false);
}
}
});
}
function focusAndSelectInput(jqObj)
{
var disValue = jqObj.attr("disabled");
if (disValue != "disabled" && disValue != true)
{
jqObj.focus();
jqObj.select();
}
}
function FocusAutoJump(obj,value,e)
{
var objJQ = $(obj);
var objId = colonStripping(obj.id);
var objParent = objJQ.parent();
var valLen = value.length;
var idKeyword = objId.replace(/\d+$/,"");
var curIndex = objId.match(/\d+$/);
var nextIndex = parseInt(curIndex, 10) + 1;
var nextID = idKeyword + nextIndex;
var nextOBJ = $("[id^='"+nextID+"']",objParent);
var prevIndex = parseInt(curIndex, 10);
if (prevIndex > 0)
{
prevIndex = prevIndex - 1;
}
var prevID = idKeyword + prevIndex;
var prevOBJ = $("[id^='"+prevID+"']",objParent);
var keynum;
if(window.event)
{
keynum = e.keyCode;
}
else if(e.which)
{
keynum = e.which;
}
var temp = value.substring(valLen-1, valLen);
if(("."==temp) && (objJQ.attr("class").indexOf("ip") != -1) && (0 != valLen))
{
objJQ.attr("value", value.substring(0, valLen-1))
if("."!=value)
{
focusAndSelectInput(nextOBJ);
}
}
if (valLen == obj.maxLength)
{
if ( nextOBJ.length <= 0 )
{
return;
}
if (9 != keynum && 16 != keynum && 35 != keynum && 36 != keynum &&
37 != keynum && 38 != keynum && 39 != keynum && 40 != keynum &&
46 != keynum && 8 != keynum && objJQ.valid() == 1)
{
focusAndSelectInput(nextOBJ);
}
}
else if (valLen == 0 && 37 == keynum)
{
if (prevOBJ.length <= 0)
{
return;
}
focusAndSelectInput(prevOBJ);
}
else
{
return;
}
}
function autoJumpBack(obj,value,e)
{
var objJQ = $(obj);
var objId = colonStripping(obj.id);
var objParent = objJQ.parent();
var valLen = value.length;
var idKeyword = objId.replace(/\d+$/,"");
var curIndex = objId.match(/\d+$/);
var prevIndex = parseInt(curIndex, 10);
if (prevIndex > 0)
{
prevIndex = prevIndex - 1;
}
var prevID = idKeyword + prevIndex;
var prevOBJ = $("[id^='"+prevID+"']",objParent);
var keynum;
if(window.event)
{
keynum = e.keyCode;
}
else if(e.which)
{
keynum = e.which;
}
if (8 == keynum && valLen == 0)
{
if ( prevOBJ.length <= 0 )
{
return;
}
focusAndSelectInput(prevOBJ);
}
}
jQuery.fn.FillIPorMacDataBySplit = function(subid,Delimiter,length) {
var IPOBJ = $(this);
if ( IPOBJ.length == 0 )
{
return;
}
var containerOBJ = IPOBJ.parents("[id^='template_']");
var value = IPOBJ.attr("value");
if ( !value )
{
return;
}
var temp= value.split(Delimiter);
if (length != temp.length)
{
return;
}
for(var i=0; i<length; i++)
{
var fillOBJ = $("[id^='"+subid+i+"']",containerOBJ);
fillOBJ.attr("value",temp[i]);
}
}
jQuery.fn.FillIPorMacDataToInput = function(subid) {
var IPOBJ = $(this);
if ( IPOBJ.length == 0 )
{
return;
}
var containerOBJ = IPOBJ.parents("[id^='template_']");
var value = IPOBJ.attr("value");
if ( !value )
{
return
}
var fillOBJ = $("[id^='"+subid+"']",containerOBJ);
fillOBJ.attr("value",value);
}
jQuery.fn.FillIPorMacDataCombination = function(subid,Delimiter,length) {
var IPOBJ = $(this);
if ( IPOBJ.length == 0 )
{
return;
}
var containerOBJ = IPOBJ.parents("[id^='template_']");
var temp = "";
for(var i=0; i<length; i++)
{
var tempObj = $("[id^='"+subid+i+"']",containerOBJ);
if(0!=i)
{
temp += Delimiter;
}
var tempValue = tempObj.attr("value");
if ( !tempValue )
{
tempValue = "";
}
temp += tempValue;
tempObj.addClass("PostIgnore");
}
IPOBJ.attr("value",temp);
return temp;
}
jQuery.fn.checkIPorMACbyApply = function(checkIPorMACObj, template, IPMACCheckResult){
var breakFlag = 0;
$.each(checkIPorMACObj, function(key, value){
if (breakFlag != 0)
{
return false;
}
if ($("[id^='sub_"+key+"']",template).is(":visible") != true)
{
return true;
}
var labelId = value.labelId;
var paraName = "";
var paraNameObj = template.find("label[for^='"+labelId+"\\:']");
if ( paraNameObj.length <= 0 )
{
paraNameObj = template.find("label[for='"+labelId+"']");
}
if ( paraNameObj.length > 0 )
{
paraNameObj.each(function(){
var labelTmp = $(this);
if (labelTmp.hasClass("error"))
{
return true;
}
paraName = labelTmp.text();
return false;
});
}
var elementType = value.eleType;
if (elementType == "IP")
{
var IPObj = $("[id^='"+key+"']",template);
IPObj.FillIPorMacDataCombination("sub_"+key, ".", 4);
var ipValue = IPObj.attr("value");
if (value.rules != undefined)
{
$.each(value.rules, function(k, v){
var ipRet = checkWholeIPv4(k, v, ipValue);
if (ipRet[0] == false)
{
var errMsg = getMsgofWholeMACIPCheck(ipRet, value, ipValue, paraName);
$(".errorHint",template).show();
$(".errorHint span",template).text(errMsg);
IPMACCheckResult.result = "checkFail";
breakFlag = 1;
return false;
}
else
{
$(".errorHint",template).hide();
}
});
}
}
else if (elementType == "MAC")
{
var MACObj = $("[id^='"+key+"']",template);
MACObj.FillIPorMacDataCombination("sub_"+key, ":", 6);
var macValue = MACObj.attr("value");
if (value.rules != undefined)
{
$.each(value.rules, function(k, v){
var macRet = checkWholeMac(k, v, macValue);
if (macRet[0] == false)
{
var errMsg = getMsgofWholeMACIPCheck(macRet, value, macValue, paraName);
$(".errorHint",template).show();
$(".errorHint span",template).text(errMsg);
IPMACCheckResult.result = "checkFail";
breakFlag = 1;
return false;
}
else
{
$(".errorHint",template).hide();
}
});
}
}
else
{
consoleLog("ElementType +'"+elementType+"' is not supported now!")
}
});
}
jQuery.fn.setPromptCheckJSON = function(checkJSONTempObj, template){
var templateID = template.attr("id");
var instIndex = templateID.match(/\d+$/);
var checkJSONInstObj = {"groups":{}, "rules":{}, "messages":{}};
if ( checkJSONTempObj.groups != undefined )
{
$.each(checkJSONTempObj.groups, function(key, value) {
var valJSONStr = value;
var idArr = value.split(" ");
for ( var i=0; i<idArr.length; i++ )
{
idArr[i] += ":"+instIndex;
}
valJSONStr = idArr.join(" ");
var parameterJSON = eval("({'"+key+":"+instIndex+"':'" + valJSONStr + "'})");
$.extend(checkJSONInstObj.groups, parameterJSON);
});
}
if ( checkJSONTempObj.rules != undefined )
{
$.each(checkJSONTempObj.rules, function(key, value) {
var parameterJSON = {};
parameterJSON[key + ":" + instIndex] = value;
$.extend(checkJSONInstObj.rules, parameterJSON);
});
}
if ( checkJSONTempObj.messages != undefined )
{
$.each(checkJSONTempObj.messages, function(key, value) {
var parameterJSON = {};
parameterJSON[key + ":" + instIndex] = value;
$.extend(checkJSONInstObj.messages, parameterJSON);
});
}
var instForm = template.find("form");
instForm.validate(checkJSONInstObj);
}
function consoleLog(para)
{
if (typeof window.console == "undefined") {
window.console = {log: function() {}};
}
window.console.log( para );
}
function getInstIndexByPath(xml, OBJID, path)
{
var OBJ = $(xml).find(OBJID);
var instances = $("Instance", OBJ);
var instIndex = -1;
instances.each(function(i){
var inst = $(this);
inst.find("ParaName").each(function(){
var ParaName = $(this).text();
var ParaValue = $(this).next().text();
if ( ParaName.match(/^_InstID/) != null
&& ParaValue == path )
{
instIndex = i;
}
});
});
return instIndex;
}
function xmlParaInInstOperate(xml, OBJVal, InstIndex, ToOperParaArray)
{
var OBJ = $(OBJVal, $(xml));
var inst = $("Instance", OBJ).eq(InstIndex);
inst.find("ParaName").each(function(){
var ParaSelf = $(this);
var ParaValSelf = $(this).next();
var ParaName = ParaSelf.text();
var ParaValue = ParaValSelf.text();
for (var tmp in ToOperParaArray)
{
if( tmp == ParaName )
{
ToOperParaArray[tmp].ValueOrigin = ParaValue;
if (ToOperParaArray[tmp].setAction)
{
ToOperParaArray[tmp].setAction(ParaSelf, ParaValSelf, ParaValue);
}
}
}
});
}
function getParaValueInXML(xml, OBJID, InstIndex, paraNameIn)
{
var paraValueOut = "N/A";
var OBJ = $(xml).find(OBJID);
var instances = $("Instance", OBJ);
var inst = instances.eq(InstIndex);
inst.find("ParaName").each(function(){
var ParaName = $(this).text();
var ParaValue = $(this).next().text();
if ( ParaName == paraNameIn )
{
paraValueOut = ParaValue;
return false;
}
});
return paraValueOut;
}
function colorTblRow(tblClass, rowAttr, Head)
{
$(tblClass+" .colorTblRow", Head).each(function(){
var thisRow = $(this);
thisRow.removeClass("colorRow");
});
var shouldPainted = true;
if ( rowAttr == "even" )
{
shouldPainted = true;
}
else
{
shouldPainted = false;
}
var allRows = $(tblClass+" .colorTblRow", Head);
allRows.each(function(){
var thisRow = $(this);
if ( thisRow.css("display") != "none" )
{
if ( true == shouldPainted )
{
thisRow.addClass("colorRow");
shouldPainted = false;
}
else
{
shouldPainted = true;
}
}
});
}
function reformString(inStr, splitNum)
{
var strLen = inStr.length;
var outStr = "";
var arr = [];
var start = 0;
var end = 0;
if (strLen > 4)
{
var flag = strLen % splitNum;
if (flag != 0)
{
end = flag;
}
else
{
end = start + splitNum;
}
for (var i=0; end <= strLen; i++)
{
arr[i] = inStr.slice(start, end);
start = end;
end = start + splitNum;
}
for (var j = 0; j < arr.length; j++)
{
outStr = outStr + arr[j] + " ";
}
outStr = outStr.slice(0, (outStr.length-1));
}
if (outStr == "")
{
outStr = inStr;
}
return outStr;
}
function sec2HrMinSec(sec,IsDayShow)
{
if (sec == "")
{
consoleLog("[sec2HrMinSec]sec is empty, please check if it's ok?! ");
}
var s, m, h, day, ret;
s = parseInt(sec % 60);
m = parseInt(sec / 60, 10) % 60;
h = parseInt(sec / 3600, 10);
ret = h + " h " + m + " min " + s + " s";
if (IsDayShow == true)
{
day = parseInt(h /24, 10);
h = parseInt(h % 24, 10);
ret = day + " days " + h + " h " + m
+ " min " + s + " s";;
}
return ret;
}
jQuery.fn.collapsibleInstTitleChange = function(referenceID) {
var ContainerOBJ = $(this);
var NameValue = $("[id^='"+referenceID+":']",ContainerOBJ).attr("value");
var instNameObj = $(".collapsibleInst",ContainerOBJ);
instNameObj.text(NameValue);
instNameObj.attr("title", NameValue);
}
function initialCtrlAllLink(containerOBJ)
{
var AllObj = $(".AllOn, .AllOff",containerOBJ);
AllObj.unbind("click");
AllObj.click(function(event){
var AllCtlItme = $(this);
var Head = AllCtlItme.parents(".HeadDIV");
var Template = AllCtlItme.parents("[id^='template_']");
var needCheck = 1;
var EleSelectValue;
if ( AllCtlItme.hasClass("AllOn") )
{
needCheck = 1;
EleSelectValue = 1;
}
else if ( AllCtlItme.hasClass("AllOff") )
{
needCheck = 0;
EleSelectValue = 0;
}
else
{
}
if ( AllCtlItme.attr("EleSelectValue") )
{
EleSelectValue = AllCtlItme.attr("EleSelectValue");
}
$(":radio",Template).each(function(){
var RadioOBJ = $(this);
if ( RadioOBJ.attr("value") == EleSelectValue )
{
RadioOBJ.attr("checked", "checked");
}
else
{
RadioOBJ.removeAttr("checked");
}
});
$(":checkbox",Template).each(function(){
var CheckboxOBJ = $(this);
if ( needCheck == 1)
{
CheckboxOBJ.attr("checked", "true");
}
else
{
CheckboxOBJ.removeAttr("checked");
}
});
});
}
function ActionByApplyResult(xml, template, TitleValueReferID)
{
var isError = template.hasError(xml);
if (isError == 0)
{
succHintShow(template);
var _InstIDOBJ = $(xml).find("_InstID");
if (_InstIDOBJ.length > 0)
{
$("[id^='_InstID']",template).attr("value", _InstIDOBJ.text());
}
if ( TitleValueReferID != undefined )
{
template.collapsibleInstTitleChange(TitleValueReferID);
}
}
return isError;
}
function ActionByCancelResult(xml, template, OBJIDForFillData, TitleValueReferID)
{
var isError = template.hasError(xml);
if ( isError == 0 )
{
template.fillDataByOBJID(xml, OBJIDForFillData, template, 0);
if ( TitleValueReferID != undefined )
{
template.collapsibleInstTitleChange(TitleValueReferID);
}
}
else
{
$(".ChangeArea",template).showIt(true);
$(".collapsibleInst",template).addClass("instNameExp");
}
return isError;
}
function addInst(Head, InstNumOBJ)
{
var HeadID = Head.attr("id");
var templateOBJ = $("#template_"+HeadID);
var suffix = InstNumOBJ.attr("value");
var clone = templateOBJ.cloneWithSuffix(suffix);
templateOBJ.before(clone);
InstNumOBJ.attr("value",parseInt(suffix)+1);
clone.showIt(true);
$(".collapsibleInst",clone).addClass("instNameExp");
$(".ChangeArea",clone).showIt(true);
templateOBJ.trigger("ActionAfterClone",clone);
}
function IfCreateInstChk(Head, InstNumOBJ, AddInstLink)
{
var ExistInst = 0;
$("[id^='template_']",Head).each(function(){
if ($(this).css("display") == "block")
{
ExistInst = 1;
return false;
}
});
if ( ExistInst == 0
&& AddInstLink.length > 0 )
{
return true;
}
return false;
}
function collapBarAction(collapBar)
{
var Head = collapBar.parents(".HeadDIV");
var HeadID = Head.attr("id");
var containerMainID = HeadID + "_container";
var UnderControlContainer = $("#"+containerMainID, Head);
var template = collapBar.parents("[id^='template_']");
var selector = "[id^='"+ containerMainID +"']";
var containerInTemp = $(selector, template);
var containerLen = containerInTemp.length;
if ( containerLen > 0 )
{
UnderControlContainer = containerInTemp;
}
if ( UnderControlContainer.is(":visible") )
{
UnderControlContainer.showIt(false);
collapBar.removeClass("collapsibleBarExp");
}
else
{
UnderControlContainer.showIt(true);
collapBar.addClass("collapsibleBarExp");
}
var InstNumOBJ = $("#_InstNum",Head);
var AddInstLink = Head.find(".addInst");
if ( IfCreateInstChk(Head, InstNumOBJ, AddInstLink) )
{
addInst(Head, InstNumOBJ);
}
}
function initial_collapBarWithDataTrans(Head)
{
var UnderControlContainer = $("#"+ Head.attr("id") +"_container");
UnderControlContainer.hide();
$(".collapBarWithDataTrans",Head).click(function(event){
event.preventDefault();
var collapBar = $(this);
if ( $("#DataHasBeenGot",Head).val() == 0 )
{
showWaitTip(true);
setTimeout(function(){
var ServerAddr = $("address span", Head).text();
Head.dataTransfer(ServerAddr,
"GET",
Head.succfunction,
undefined,
undefined,
false
);
$("#DataHasBeenGot",Head).val(1);
collapBarAction(collapBar);
}, 2);
}
else
{
collapBarAction(collapBar);
}
});
}
function initial_CollapsibleBar()
{
$(".collapsibleBar").each(function(){
var HeadID = $(this).parents(".HeadDIV").attr("id");
var UnderControlContainer = $("#"+ HeadID +"_container");
UnderControlContainer.hide();
});
$(".collapsibleBar").each(function(){
var collapsibleBar = $(this);
collapsibleBar.click(function(event){
event.preventDefault();
var collapBar = $(this);
collapBarAction(collapBar);
});
});
}
function initial_addInstLink()
{
$(".addInst").each(function(event){
var addInstOBJ = $(this);
addInstOBJ.unbind("click");
addInstOBJ.click(function(event){
var Head = $(this).parents(".HeadDIV");
var InstNumOBJ = $("#_InstNum",Head);
addInst(Head, InstNumOBJ);
});
});
}
function initial_QueryAccessDeviceLink()
{
var linkSelector = "._LuQUID_SelAccessDevice";
var selDevLinks = $(linkSelector);
if ( selDevLinks.length == 0 )
{
return;
}
selDevLinks.each(function(){
var selDevLink = $(this);
selDevLink.css("display", "block");
var rowObj = selDevLink.parents(".row").eq(0);
rowObj.append("<div class='clear'></div>");
var macID = rowObj.find(".mac").eq(0).attr("id");
var inputID = rowObj.find(".selaccessdev").attr("id");
var paraID = "";
if (macID != undefined && macID != "")
{
var macIDStriped = colonStripping(macID);
paraID = macIDStriped.match(/^sub_(.+)\d$/)[1];
}
else if (inputID != undefined && inputID != "")
{
paraID = inputID;
}
else
{
}
var headID = selDevLink.parents(".HeadDIV").attr("id");
var suffix = ":"+paraID+":"+headID;
var devListHTML = ''
+ '<div class="_LuQUID_AccessDeviceList" name="_LuQUID_AccessDeviceInfo'+suffix+'" style="display:none;">'
+ '<input type="hidden" class="PostIgnore" id="_LuQUID_InstNum'+suffix+'" value="0">'
+ '<p id="_LuQUID_NoAccessDev'+suffix+'">Currently no associated devices.</p>'
+ '<p id="_LuQUID_template_AccessDeviceInfo'+suffix+'" style="display:none">'
+ '<label class="cfgLabel">&nbsp;</label>'
+ '<input type="hidden" class="PostIgnore" id="_LuQUID_HostName'+suffix+'" value="">'
+ '<input type="hidden" class="PostIgnore" id="_LuQUID_MACAddress'+suffix+'" value="">'
+ '<input type="radio" class="PostIgnore" id="_LuQUID_AccessDeviceRadio'+suffix+'" name="_LuQUID_AccessDeviceRadio'+suffix+'" value=""/>'
+ '<label for="_LuQUID_AccessDeviceRadio'+suffix+'">'
+ 'Host Name: [<span id="_LuQUID_StrHostName'+suffix+'">Unknown</span>]'
+ '-MAC Address: [<span id="_LuQUID_StrMACAddress'+suffix+'"></span>]'
+ '</label>'
+ '</p>'
+ '<a class="_LuQUID_HideAccessDevice">Hide</a>'
+ '</div>';
var macObj = rowObj.find(".right");
var devListObj = $(devListHTML).insertAfter(macObj);
var labelObj = rowObj.find(".cfgLabel");
var labelWidth = labelObj.css("width");
devListObj.css("margin-left", labelWidth);
});
var devRadios = $("input[name^='_LuQUID_AccessDeviceRadio']");
devRadios.click(function(event){
var devRadio = $(this);
var templateSelector = "[id^='_LuQUID_template_AccessDeviceInfo']";
var templateDev = devRadio.parents(templateSelector);
var devListObj = devRadio.parents("[name^='_LuQUID_AccessDeviceInfo']");
var rowObj = devRadio.parents(".row").eq(0);
var deviceRadioSelector = "input[name^='_LuQUID_AccessDeviceRadio']";
$(deviceRadioSelector, devListObj).removeAttr("checked");
devRadio.attr("checked", "checked");
var devMACObj = $("[id^='_LuQUID_MACAddress']", templateDev);
var macID = rowObj.find(".mac").eq(0).attr("id");
var inputID = rowObj.find(".selaccessdev").attr("id");
var paraID = "";
if (macID != undefined && macID != "")
{
var macIDStriped = colonStripping(macID);
var subID = macIDStriped.match(/^(sub_.+)\d$/)[1];
devMACObj.FillIPorMacDataBySplit(subID, ":", 6);
var lastSubMAC = rowObj.find(".mac").last();
lastSubMAC.focus().blur();
}
else if (inputID != undefined && inputID != "")
{
devMACObj.FillIPorMacDataToInput(inputID);
rowObj.find(".selaccessdev").blur();
}
else
{
}
});
var hideDevLinks = $("._LuQUID_HideAccessDevice");
hideDevLinks.unbind("click");
hideDevLinks.click(function(event){
event.preventDefault();
var devListObj = $(this).parents("[name^='_LuQUID_AccessDeviceInfo']");
devListObj.hide();
});
selDevLinks.unbind("click");
selDevLinks.click(function(event){
event.preventDefault();
var selDevLink = $(this);
var rowObj = selDevLink.parents(".row");
var devListObj = rowObj.find("[name^='_LuQUID_AccessDeviceInfo']");
if (devListObj.is(":visible"))
{
devListObj.hide();
return;
}
var InstNumBefore = $("[id^='_LuQUID_InstNum']", devListObj).val();
for ( var i=0; i<InstNumBefore; i++ )
{
var selector = "[id$='_"+i+"']"
+"[id^='_LuQUID_template_AccessDeviceInfo']";
$(selector, devListObj).remove();
}
devListObj.AccessDeviceXMLDealWith = function(xml){
devListObj.hasError(xml,"externErrorHint");
var ACCESSDEVRuleOBJ = $(xml).find("OBJ_ACCESSDEV_ID");
var RuleNum = $("Instance", ACCESSDEVRuleOBJ).length;
var OBJID = ["OBJ_ACCESSDEV_ID"];
var templateSelector = "[id^='_LuQUID_template_AccessDeviceInfo']";
var TemplateOBJ = $(templateSelector, devListObj);
$("[id^='_LuQUID_InstNum']", devListObj).val(RuleNum);
var NoAccessDevObj = $("[id^='_LuQUID_NoAccessDev']", devListObj);
if (RuleNum == 0 )
{
NoAccessDevObj.show();
}
else
{
NoAccessDevObj.hide();
}
for (var i=0; i<RuleNum; i++)
{
var clone = TemplateOBJ.cloneWithSuffix(i);
TemplateOBJ.before(clone);
clone.fillDataByOBJID(xml, OBJID, clone, i);
var HostNameStr = $("[id^='_LuQUID_HostName']", clone).val();
if (HostNameStr == "")
{
HostNameStr = "Unknown";
}
$("[id^='_LuQUID_StrHostName']", clone).text(HostNameStr);
var MACAddress = $("[id^='_LuQUID_MACAddress']", clone).val();
$("[id^='_LuQUID_StrMACAddress']", clone).text(MACAddress);
clone.show();
}
devListObj.show();
};
var accessMode = selDevLink.attr("_LuQUID_Access_Mode")
var AccessModeSet =
[
"ETH",
"WLAN",
"ALL"
];
if ( -1 == $.inArray(accessMode, AccessModeSet) )
{
var devTypeList = AccessModeSet.join("/")
consoleLog("_LuQUID_Access_Mode must be set as one of "+devTypeList);
return ;
}
var ServerAddr = "/common_page/Query_AccessDevice_lua.lua?";
ServerAddr += "DeveiceType="+accessMode;
showWaitTip(true);
devListObj.dataTransfer(ServerAddr,
"GET",
devListObj.AccessDeviceXMLDealWith,
undefined,
undefined,
false);
});
}
function DisableALLParams(template)
{
$(":radio", template).attr("disabled", "disabled");
$(":input[type='button']", template).addClass("disableBtn");
$(":input[type!='button'][type!='radio']", template).addClass("readonlyInputBg PostIgnore");
$(":input[type!='button'][type!='radio']", template).attr("readonly","readonly");
$(".selectLong",template).attr("disabled","disabled");
$(".selectNorm",template).attr("disabled","disabled");
}
function InitTimeOption(start,end,ele,step)
{
var realNum = (end - start)/step;
for(var i=0; i<realNum; i++)
{
var tmp = i*step+start;
var tmpText = tmp;
if ( tmp < 10 )
{
tmpText = '0'+tmpText;
}
ele.append("<option value='"+tmp+"'>"+ tmpText +"</option>");
}
}
function initial_TimeCtl()
{
var TimeCtl = $("._LuQUID_TimeCtl");
if ( TimeCtl.length <= 0 )
{
return;
}
var timeArr = {
"group_HourStart" : [0, 24],
"group_MinuteStart" : [0, 60],
"group_HourEnd" : [0, 24],
"group_MinuteEnd" : [0, 60]
};
for (var tmp in timeArr)
{
var timeEle = $("."+ tmp, TimeCtl);
var start = timeArr[tmp][0];
var end = timeArr[tmp][1];
InitTimeOption(start, end, timeEle, 1);
}
$("option[value='23']",$(".group_HourEnd",TimeCtl)).attr("selected",
"selected");
$("option[value='59']",$(".group_MinuteEnd",TimeCtl)).attr("selected",
"selected");
}
function PasswordDotDisplay(template, EnableValue)
{
if(EnableValue == "1")
{
$("input[type='password']", template).attr("value", "						");
}
else
{
$("input[type='password']", template).attr("value", "");
}
}
function DisableALLParams(template)
{
$(":radio", template).attr("disabled", "disabled");
$(":input[type='button']", template).addClass("disableBtn");
$(":input[type!='button'][type!='radio']", template).addClass("readonlyInputBg PostIgnore");
$(":input[type!='button'][type!='radio']", template).attr("readonly","readonly");
}
$(document).ready(function(){
initial_sceneTip();
initial_CollapsibleBar();
initial_addInstLink();
initial_QueryAccessDeviceLink();
initial_TimeCtl();
$(".HeadDIV").each(function(){
var Head = $(this);
var HeadID = Head.attr("id");
var template = $("#template_"+HeadID,Head);
var formOBJ = $("form",Head);
if ( ! formOBJ.attr("onsubmit") )
{
formOBJ.attr("onsubmit", "return false;");
}
var stopFormAutoSubmitStr = "<input type='text' id='_stopFormAutoSubmit'"
+" value='' class='PostIgnore'"
+" style='display:none;'>";
formOBJ.prepend(stopFormAutoSubmitStr);
initial_button("Apply", Head);
initial_button("Cancel", Head);
initial_button("Delete", Head);
initialCtrlAllLink(Head);
initial_special_password(Head);
var collapsibleInstObj = $(".collapsibleInst",template);
collapsibleInstObj.unbind("click");
collapsibleInstObj.click(function(event){
var collapsibleInst = $(this);
var template = collapsibleInst.parents("[id^='template_']");
var ChangeArea = $(".ChangeArea",template);
if ( ChangeArea.is(":hidden") )
{
ChangeArea.showIt(true);
collapsibleInst.addClass("instNameExp");
}
else
{
ChangeArea.showIt(false);
collapsibleInst.removeClass("instNameExp");
$(".Btn_cancel",ChangeArea).click();
}
});
$(".utf8Compatible", template).each(function(){
var thisObj = $(this);
var dTip = thisObj.text();
var dTipArr = dTip.split("");
var firstNum = "";
var secNum = "";
var firstNumStart = "";
var firstNumEnd = "";
var secNumStart = "";
var secNumEnd = "";
var Nums = 0;
var newTip = "";
dTipArr = $.grep(dTipArr, function(n,i){
return n != " ";
});
dTip = dTipArr.join("");
for(var i=0; i<dTipArr.length; i++)
{
if (Nums > 2)
{
thisObj.remove();
break;
}
if (isNaN(dTipArr[i]) == false)
{
if (firstNumStart == "")
{
firstNumStart = i;
firstNumEnd = parseInt(i)+1;
Nums += 1;
}
else
{
if (secNumStart == "")
{
if (firstNumEnd == i)
{
firstNumEnd = parseInt(i)+1;
}
else
{
secNumStart = i;
secNumEnd = parseInt(i)+1;
Nums += 1;
}
}
else
{
if (secNumEnd == i)
{
secNumEnd = parseInt(i)+1;
}
else
{
Nums = 3;
}
}
}
}
}
if (firstNumStart != "" && secNumStart != "")
{
firstNum = dTip.slice(firstNumStart, firstNumEnd);
secNum = dTip.slice(secNumStart, secNumEnd);
newTip = dTip.slice(0, firstNumStart)+" ";
if (parseInt(secNum) < 3)
{
var prevObjId = thisObj.prev().attr("id");
alert("Element[id='"+prevObjId+"']'s length range ["+ firstNum+","+secNum+"] will be invalid after utf-8 transforming!");
}
else
{
firstNum = Math.ceil(parseInt(firstNum) / 3);
secNum = Math.floor(parseInt(secNum) / 3);
if (firstNum < secNum)
{
firstNum=reformString(firstNum.toString(), 3);
secNum=reformString(secNum.toString(), 3);
newTip += firstNum + " ~ " + secNum;;
}
else if (firstNum == secNum)
{
secNum=reformString(secNum.toString(), 3);
newTip += secNum;
}
else
{
var prevObjId = thisObj.prev().attr("id");
alert("Element[id='"+prevObjId+"']'s length range ["+firstNum+","+secNum+"] is invalid after utf-8 transforming!");
}
}
}
else
{
thisObj.remove();
}
if (newTip != "")
{
thisObj.text(newTip);
}
});
$("input[type='text'],input[type='password']", template).focus(function(){
var thisObj = $(this);
var msg = thisObj.next("span").text();
if (msg != "")
{
var pos = thisObj.offset();
var objWidth = thisObj.width();
var dhtml = "<div id='dynamicTip'><div id='dTip_l'></div>"
+ "<div id='dTip_m'>"
+ msg
+ "</div><div id='dTip_r'></div></div>";
var dtObj = $(dhtml).css({top:(pos.top-33)+'px',left:(pos.left+objWidth+8)+'px'});
dtObj.appendTo('body').fadeIn(400);
thisObj.blur(function(){
dtObj.fadeOut(100, function(){$(this).remove()});
});
}
});
$("input[class='ip'],input[class='mac']", template).each(function(){
var InputOBJ = $(this);
InputOBJ.unbind("keydown");
InputOBJ.unbind("keyup");
InputOBJ.keydown(function(event){
autoJumpBack(this,this.value,event);
});
InputOBJ.keyup(function(event){
FocusAutoJump(this,this.value,event);
});
});
$(".instSwitch input",template).each(function(){
var InputOBJ = $(this);
if (InputOBJ.attr("type") == "radio")
{
InputOBJ.unbind("change");
InputOBJ.change(function(event){
var template = $(this).parents("[id^='template_']");
var ChangeArea = $(".ChangeArea",template);
var _InstIDValue = template.find("[id^='_InstID']").attr("value");
if ( ChangeArea.is(":hidden")
&& _InstIDValue != "-1" )
{
var ServerAddr = template.parents(".HeadDIV").find("address span").text();
var instSwitchName = colonStripping(InputOBJ.attr("name"));
var instSwitchValue = InputOBJ.attr("value");
var PostData = "IF_ACTION=Apply"+"&"
+ instSwitchName+"="+instSwitchValue+"&"
+ "_InstID=" + _InstIDValue;
var actionType = "InstSwitch";
var PostSuccHandler = "fillDataByInstSwitchResult";
dataPost(actionType, PostSuccHandler, ServerAddr, template, PostData);
}
});
}
});
template.unbind("fillDataByInstSwitchResult");
template.bind("fillDataByInstSwitchResult", function(event,xml, template){
if ( template.hasError(xml) == 0 )
{
return;
}
$(".ChangeArea",template).showIt(true);
$(".collapsibleInst",template).addClass("instNameExp");
});
template.unbind("fillDataByDeleteResult");
template.bind("fillDataByDeleteResult", function(event,xml, template){
if ( template.hasError(xml) == 0 )
{
template.remove();
}
else
{
$(".ChangeArea",template).showIt(true);
}
});
});
});
function getPwdLevel(val, relVal)
{
if (val.length < 6)
{
return false;
}
if ( !(/[0-9]+/).test(val) ||
!(/[a-zA-Z]+/).test(val) ||
!(/[!"#$%&'()*+,-./:;<=>?@\[\\\]^_`{|}~]+/).test(val) )
{
return false;
}
if (val == relVal || val == relVal.split("").reverse().join(""))
{
return false;
}
return true;
}
function SetCookie(name,value)
{
var Days = 30;
var exp = new Date();
exp.setTime(exp.getTime() + Days*24*60*60*1000);
document.cookie = name + "="+ escape (value)
+ ";expires=" + exp.toGMTString();
}
function getCookie(name)
{
var arr = document.cookie.match(new RegExp("(^| )"+name+"=([^;]*)(;|$)"));
if(arr != null)
{
return unescape(arr[2]);
}
return null;
}
function delCookie(name)
{
var exp = new Date();
exp.setTime(exp.getTime() - 1);
var cval = getCookie(name);
if( cval!=null )
{
document.cookie= name + "="+cval+";expires="+exp.toGMTString();
}
}
function IsBrowserSupportCookie()
{
var support = false;
SetCookie('cookie_test','1');
var cookie_test = getCookie('cookie_test');
if( '1' == cookie_test)
{
support = true;
}
delCookie('cookie_test');
return support;
}
(function ($) {
var o = $({});
$.subscribe = function () {
o.on.apply(o, arguments);
};
$.unsubscribe = function () {
o.off.apply(o, arguments);
};
$.publish = function () {
o.trigger.apply(o, arguments);
};
} (jQuery));
</script>

<div id="ManagStatus" class="">
<address style="display:none">
<span class="form-action">/common_page/status_info_lua.lua</span>
</address>
<div class="externErrorHint" style="display:none;">
<span class="caption1"></span>
</div>
<div id="ManagStatus_container">
<input id="DataHasBeenGot" type="hidden" value="0">
<input id="Status" type="hidden" value="">
<input id="Module_type" type="hidden" value="">
<input id="Upstream_current_rate" type="hidden" value="">
<input id="Downstream_current_rate" type="hidden" value="">
<input id="Downstream_noise_margin" type="hidden" value="">
<input id="Upstream_noise_margin" type="hidden" value="">
<input id="Upstream_attenuation" type="hidden" value="">
<input id="Downstream_attenuation" type="hidden" value="">
<input id="UpCrc_errors" type="hidden" value="">
<input id="DownCrc_errors" type="hidden" value="">
<input id="Atuc_fec_errors" type="hidden" value="">
<input id="Fec_errors" type="hidden" value="">
<input id="LEDStatus" type="hidden" value="">
<div id="template_ManagStatus" class="statuscolorTbl">
<div id="Prefix_sub_Status" class="colorTblRow">
<span class="w170" title="DSL/Internet status">DSL/Internet status</span>
<span id="cStatus" class="w150" title=""></span>
</div>
<div id="Prefix_sub_Module_type" class="colorTblRow">
<span class="w170" title="Transmission mode">Transmission mode</span>
<span id="CModule_type" class="w150" title=""></span>
</div>
<div id="Prefix_sub_Downrate" class="colorTblRow">
<span class="w170" title="Downstream">Downstream</span>
<span id="CDownstream_current_rate" class="w150" title=""></span>
</div>
<div id="Prefix_sub_Uprate" class="colorTblRow">
<span class="w170" title="Upstream">Upstream</span>
<span id="CUpstream_current_rate" class="w150" title=""></span>
</div>
<div id="Prefix_sub_margin" class="colorTblRow">
<span class="w170" title="SNR(Down/Up)">SNR(Down/Up)</span>
<span id="stream_noise_margin" class="w150" title=""></span>
</div>
<div id="Prefix_sub_attenuation" class="colorTblRow">
<span class="w170" title="Attenuation(Down/Up)">Attenuation(Down/Up)</span>
<span id="stream_attenuation" class="w150" title=""></span>
</div>
<div id="Prefix_sub_crc" class="colorTblRow">
<span class="w170" title="CRC Errors(Down/Up)">CRC Errors(Down/Up)</span>
<span id="Crc_errors" class="w150" title=""></span>
</div>
<div id="Prefix_sub_fec" class="colorTblRow">
<span class="w170" title="FEC Errors(Down/Up)">FEC Errors(Down/Up)</span>
<span id="CFec_errors" class="w150" title=""></span>
</div>
<div id="" class="colorTblRow">
<span class="w170" title="Device Serial No.">Device Serial No.</span>
<span class="w150" id="SerialNumber" title=""></span>
</div>
<div id="" class="colorTblRow">
<span class="w170" title="Software Version">Software Version</span>
<span class="w150" id="SoftwareVer" title=""></span>
</div>
</div>
</div>
</div>

<p class="sceneTip_close"><a>Close</a></p>
</div>
</div>
</div>
<div class="loginInstCfgArea">
<div class="row">
<label for="Frm_Username" class="left w120">Username</label>
<div class="right">
<input type="text" name="Frm_Username" id="Frm_Username" autocomplete="off" class="w180" value=""/>
</div>
</div>
<div class="row">
<label for="Password" class="left w120">Password</label>
<div class="right">
<input type="text" name="Frm_Passworddis" id="Frm_Passworddis" style="display:none" autocomplete="off" class="w180"/>
<input type="password" name="Frm_Password" id="Frm_Password" autocomplete="off" class="w180"/>
<input type="password" id="FakePasPassword" name="FakePasPassword" autocomplete="off" style="position: absolute;z-index: -100;">
</div>
</div>
<div id="login_error" class="errorHint" style="display:none;">
<span id="login_error_span"></span>
</div>
<div id="login_LockHint" class="errorHint" style="display:none;">
<span id="login_error_waittime" value="0"></span>
</div>
</div>
</div>
<div id="loginBtn" class="">
<input type="submit" id="LoginId" class="button login" value="Login"/>
</div>
</div>

</div>
<div id="page_footer">
<span id="slogan">Tomorrow never waits</span>
<span id="copyRight">&copy;2008-2020 ZTE Corporation. All rights reserved</span>&nbsp;&nbsp;|&nbsp;&nbsp;
<span id="pdtVer">&#83;&#112;&#101;&#101;&#100;&#112;&#111;&#114;&#116;&#32;&#69;&#110;&#116;&#114;&#121;&#32;&#50;&#105;&nbsp;&#86;&#49;&#46;&#48;&#46;&#48;&#95;&#79;&#84;&#69;&#84;&#49;&#52;&#77;&#65;&#80;&#69;&#65;</span>
</div>
</div>
<script type="text/javascript">
function LanguageSwitch(nowLanguage)
{
var changeLanguage = "";
if ( "Chinese" == nowLanguage)
{
changeLanguage = "English";
}
else
{
changeLanguage = "Chinese";
}
$("#IF_LanguageSwitch").attr("value",changeLanguage);
showWaitTip(true);
document.getElementById("fmainframe").submit();
}
function MenuModeSwitch(ModeNow)
{
var ChangeModeSwitch = "";
if ( "Basic" == ModeNow )
{
ChangeModeSwitch = "Advanced";
}
else
{
ChangeModeSwitch = "Basic";
}
$("#IF_ModeSwitch").attr("value",ChangeModeSwitch);
showWaitTip(true);
document.getElementById("fmainframe").submit();
}
var UpdateTimeTimerID;
function UpdateCurrTime()
{
var CurrTimeObj = $("#_DevCurrTime");
var CurrTimeDiv = $("#timeArea");
CurrTimeObj.succfunction = function(xml){
if (CurrTimeDiv.hasError(xml,"_noExist") == 0)
{
var currTimeByXML = "";
$(xml).find('ParaName').each(function(){
var tmp = $(this);
if ( tmp.text() == "CurrentLocalTime" )
{
currTimeByXML = tmp.next().text();
return false;
}
});
if ( currTimeByXML != "")
{
var SecTimeLocation = currTimeByXML.lastIndexOf(":");
var currTimeNotSec = currTimeByXML.substring(0, SecTimeLocation);
CurrTimeObj.text(currTimeNotSec);
}
}
};
CurrTimeObj.failfunction = function(xml){
};
CurrTimeObj.dataTransfer("getpage.lua?pid=1005&nextpage=Internet_sntp_lua.lua",
"GET",
CurrTimeObj.succfunction,
CurrTimeObj.failfunction,
false);
UpdateTimeTimerID = setTimeout("UpdateCurrTime()", 60*1000);
}
$(document).ready(function(){

FakeClass1MenuShow();

if (typeof(pro_Template) !="undefined" && $.isFunction(pro_Template))
{
var FunArray = pro_Template();
for (var i=0; i < FunArray.length; i++)
{
if ($.isFunction(FunArray[i][0]))
{
var idobj = $("#" + FunArray[i][1]);
FunArray[i][0](idobj);
}
}
}
clearTimeout(UpdateTimeTimerID);
var NowStatus = "\x73\x68\x6f\x77\x6c\x6f\x67\x69\x6e\x50\x61\x67\x65";
var IsShowTimeZone = {
'showloginPage' : false,
'showWizardPage' : true,
'showCommonPage' : true
};
if ( !IsShowTimeZone[NowStatus] )
{
$("#timeArea").hide();
}
else
{
$("#timeArea").hide();
UpdateCurrTime();
}
var IsShowlogOff = {
'showloginPage' : false,
'showWizardPage' : true,
'showCommonPage' : true
};
if ( !IsShowlogOff[NowStatus] )
{
$("#logOff").hide();
}
else
{
var obj = $("#logo");
obj.addClass("clickable");
obj.click(function(){
openLink("home_t.lp&Menu3Location=0");
});
}
var modeSwitchAction = {
'showloginPage' : null,
'showWizardPage' : null,
'showCommonPage' : MenuModeSwitch
};
if ( 2 == 1 || 2 == 4)
{
modeSwitchAction.showCommonPage = null;
}
if ( modeSwitchAction[NowStatus] != null )
{
var modeSwitchButContent = "\x41\x64\x76\x61\x6e\x63\x65\x64";
var modeOBJ = $("#modeSwitch");
var modeBasic = $("#modeBisic",modeOBJ);
var ModeAdvanced = $("#ModeAdvanced",modeOBJ);
if ( modeSwitchButContent == "Basic" )
{
ModeAdvanced.attr("class", "emColor clickable");
modeBasic.attr("class", "");
}
else if ( modeSwitchButContent == "Advanced" )
{
modeBasic.attr("class", "emColor clickable");
ModeAdvanced.attr("class", "");
}
else
{
}
}
$("span", modeOBJ).each(function(){
var tempOBJ = $(this);
tempOBJ.click(function(){
if ( ! $(this).hasClass("clickable")
|| modeSwitchAction[NowStatus] == null)
{
return;
}
var ModeNow = "\x41\x64\x76\x61\x6e\x63\x65\x64";
MenuModeSwitch(ModeNow);
});
});
var languageButContent = "\x45\x6e\x67\x6c\x69\x73\x68";
var languageOBJ = $("#languageSwitch");
var languageEnglishOBJ = $("#English",languageOBJ);
var languageChineseOBJ = $("#Chinese",languageOBJ);
if ( languageButContent == "English" )
{
languageEnglishOBJ.attr("class","currentlang");
languageChineseOBJ.attr("class", "languageSwitch clickable");
}
else if ( languageButContent == "Chinese" )
{
languageEnglishOBJ.attr("class", "languageSwitch clickable");
languageChineseOBJ.attr("class","currentlang");
}
else
{
}
$("span", languageOBJ).each(function(){
var LanguageModifyOBJ = $(this);
LanguageModifyOBJ.click(function(){
if ( ! $(this).hasClass("clickable") )
{
return;
}
var LanguageNow = "\x45\x6e\x67\x6c\x69\x73\x68";
LanguageSwitch(LanguageNow);
});
});
});
window.onresize = function()
{
if ($("#tipLayer").css("display") != "none")
{
reposition_box("tipLayer");
consoleLog("window reseze!");
}
}
</script>
</body>
</html>
